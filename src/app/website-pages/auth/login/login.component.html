<div class="flex flex-col md:flex-row gap-6 md:gap-12 py-12 w-full max-w-7xl mx-auto" @formAnimation>
  <div class="flex px-4 flex-1 flex-col gap-4 w-full md:w-1/2 lg:w-1/3">
    
    <form [formGroup]="loginForm" (ngSubmit)="submition()" novalidate @inputAnimation [@shake]="shakeState()">
      
      <!-- Email/Phone Number -->
      <div class="flex flex-col mb-2">
        <div class="">
          <input
            formControlName="email"
            type="text"
            id="email"
            class="general-input w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500"
            [placeholder]="'pages.auth.login.login-form.phone-number-placeholder' | translate"
            (focus)="onLoginInputFocus()"
          />
        </div>
        <div class="error-container">
          @if (loginForm.get('email')?.touched && loginForm.get('email')?.invalid) {
            @if (loginForm.get('email')?.hasError('required')) {
              <span class="error-message">{{ 'pages.auth.login.login-form.errors.login-required' | translate }}</span>
            } @else if (loginForm.get('email')?.hasError('pattern')) {
              <span class="error-message">{{ 'pages.auth.login.login-form.errors.login-invalid' | translate }}</span>
            }
          }
        </div>
      </div>

      <!-- Password -->
      <div class="flex flex-col mb-2">
        <div class="">
          <input
            formControlName="password"
            type="password"
            id="password"
            class="general-input w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500"
            [placeholder]="'pages.auth.login.login-form.password-placeholder' | translate"
            (focus)="onPasswordFocus()"
          />
        </div>
        <button
        type="button"
  (click)="loginWithGoogle()"
  class="flex items-center justify-center w-full sm:w-auto gap-2 px-4 py-2 border border-gray-300 rounded-lg shadow-sm bg-white text-gray-700 hover:bg-gray-50 hover:shadow-md transition duration-200"
>
  <img
    src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg"
    alt="Google"
    class="w-5 h-5"
  />
  <span class="font-medium">{{'pages.auth.login.login-form.signin-with-google' | translate}}</span>
</button>
        <div class="error-container">
          @if (loginForm.get('password')?.touched && loginForm.get('password')?.invalid) {
            @if (loginForm.get('password')?.hasError('required')) {
              <span class="error-message">{{ 'pages.auth.login.login-form.errors.password-required' | translate }}</span>
            } @else if (loginForm.get('password')?.hasError('minlength')) {
              <span class="error-message">{{ 'pages.auth.login.login-form.errors.password-minlength' | translate }}</span>
            }
          }
        </div>
      </div>

      <!-- Remember Me and Forgot Password -->
      <div class="flex mx-2 justify-between items-center mb-6">
        <label class="inline-flex items-center cursor-pointer space-x-2">
          <input
            type="checkbox"
            [checked]="isChecked()"
            (change)="toggleCheckbox()"
            class="peer hidden"
          />
          <div
            class="w-5 h-5 rounded border border-gray-400 flex items-center justify-center peer-checked:bg-transparent peer-checked:border-gray-600"
          >
            @if (isChecked()) {
              <svg
                class="w-4 h-4 text-gray-600"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                viewBox="0 0 24 24"
              >
                <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
              </svg>
            }
          </div>
          <span class="text-gray-800 text-[14px] md:text-lg">{{ "pages.auth.login.login-form.remember-me" | translate }}</span>
        </label>
        <a
          [routerLink]="['/', currentLang$ | async, 'forgot-password']"
          class="forget-password"
          [attr.aria-label]="'pages.auth.login.login-form.forgot-password' | translate"
        >
          {{ "pages.auth.login.login-form.forgot-password" | translate }}
        </a>
      </div>

      <!-- Submit and Register Link -->
      <div class="flex justify-between items-center">
        <button
          class="general-btn bg-blue-600 text-white py-2 px-16 rounded-lg hover:bg-blue-700 transition-colors"
          type="submit"
          [disabled]="isLoading()"
          [class.opacity-50]="isLoading()"
          [attr.aria-label]="'pages.auth.login.login-form.submit-button-aria-label' | translate"
        >
          @if (isLoading()) {
            <span>Loading...</span>
          } @else {
            {{ "pages.auth.login.login-form.button" | translate }}
          }
        </button>
        <a
          [routerLink]="['/', currentLang$ | async, 'register']"
          class="have-account"
          [attr.aria-label]="'pages.auth.login.login-form.haveAccount' | translate"
        >
          {{ "pages.auth.login.login-form.haveAccount" | translate }}
        </a>
      </div>
    </form>
  </div>

  <div class="flex flex-1 justify-center items-start w-full md:w-1/2 lg:w-2/3">
    <img
    loading="lazy"
      src="assets/profile/profile.jpg"
      alt="{{ 'pages.auth.login.login-image_alt' | translate }}"
      class="w-full hidden md:block max-h-[577px] object-cover rounded-[30px]"
      @imageAnimation
    />
  </div>
</div>