<section
  class=" overflow-x-hidden px-4 md:px-8 pt-6 md:p-8 relative z-0 w-full bg-bage bg-[url('assets/parteners/parteners-bg.png')] bg-no-repeat"
  role="region"
  aria-labelledby="partners-heading"
>
  <div class="py-2 md:py-8 z-10 relative">
    <div class="container mx-auto md:px-4 !max-h-[150px]">
      <div class="flex items-center gap-4 !max-h-[150px]">
        <div
          class="flex items-center justify-between gap-4 md:gap-6 md:w-auto mb-4 md:mb-0 md:mr-0 flex-shrink-0"
        >
          <h2
            id="partners-heading"
            class="text-[12px] sm:text-[15px] md:text-[25px] lg:text-[35px] font-extrabold text-primary-500 flex items-center whitespace-nowrap"
          >
            <span [attr.aria-hidden]="true" class="me-2">Â«</span> {{'parteners' | translate}}
          </h2>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="2"
            height="83"
            viewBox="0 0 2 83"
            fill="none"
            class="flex-shrink-0"
            role="presentation"
          >
            <path d="M1 0V83" stroke="#36A6DD" stroke-width="2" />
          </svg>
        </div>

        <div
          class="flex-1 md:max-h-[150px] max-w-[1200px] overflow-hidden cursor-grab"
          role="region"
          aria-label="Partners Carousel"
        >
          @if(isLoading()){
          <div class="flex items-center justify-around w-full h-full animate-pulse">
            @for (item of [1,2,3,4,5,6]; track item) {
            <div class="flex flex-col items-center max-w-[120px] mx-auto">
              <div class="w-20 h-20 bg-gray-300 rounded-full mb-2"></div>
              <div class="h-4 bg-gray-300 rounded w-24"></div>
            </div>
            }
          </div>
          } @else {
          <owl-carousel-o [options]="carouselOptions" #owlCarousel>
            <ng-container *ngFor="let partner of partnerCategories; let i = index">
              <ng-template carouselSlide [id]="'partner-slide-' + i">
                <div
                  class="parteners-slider cursor-pointer mx-auto max-w-[120px] flex flex-col items-center partener-img"
                  role="group"
                  (click)="goToSlide('partner-slide-' + i)"
                  [attr.aria-label]="'Partner ' + (i + 1) + ' of ' + partnerCategories.length"
                >
                  <img
                    [src]="partner.image"
                    [alt]="partner.alt"
                    [attr.loading]="i === 0 ? 'eager' : 'lazy'"
                    [attr.fetchpriority]="i === 0 ? 'high' : 'auto'"
                    class="max-w-[185px] max-h-[50px] w-auto h-auto object-contain transition-opacity duration-300"
                  />
                  <div [class]="lang() === 'ar' ? 'text-[11px] text-center mb-6 text-gray-400 mt-2 capitalize transition-all duration-300' : 'text-[11px] text-center mb-6 text-gray-400 capitalize transition-all duration-300'">
                    {{ lang() === 'ar' ? partner.ar_name : partner.en_name }}
                  </div>
                </div>
              </ng-template>
            </ng-container>
          </owl-carousel-o>
          }
        </div>
        @if(!isRtl){
        <button
          type="button"
          aria-label="Next partner"
          class="flex items-center justify-center cursor-pointer ml-0 sm:ml-4 flex-shrink-0 w-6 h-6 text-[#174A77] transition-all duration-300 hover:text-primary-500"
          (click)="next()"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="w-6 h-6"
            [attr.dir]="isRtl ? 'rtl' : 'ltr'"
            viewBox="0 0 24 24"
            fill="currentColor"
          >
            <path
              d="M7.41287 3.39952C7.95649 2.86683 8.83784 2.86683 9.38161 3.39952L16.1855 10.0727C17.2719 11.1383 17.2714 12.8649 16.1845 13.9298L9.37659 20.6005C8.83283 21.1332 7.95148 21.1332 7.40772 20.6005C6.86409 20.0678 6.86409 19.2041 7.40772 18.6715L13.2347 12.962C13.7784 12.4294 13.7784 11.5658 13.2347 11.033L7.41287 5.32856C6.86911 4.79588 6.86911 3.93221 7.41287 3.39952Z"
            />
          </svg>
        </button>
        } @else {
        <button
          type="button"
          aria-label="Previous partner"
          class="flex items-center justify-center cursor-pointer mr-0 sm:mr-4 flex-shrink-0 w-6 h-6 text-[#174A77] transition-all duration-300 hover:text-primary-500"
          (click)="prev()"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="w-6 h-6"
            [attr.dir]="isRtl ? 'rtl' : 'ltr'"
            viewBox="0 0 24 24"
            fill="currentColor"
            style="transform: scaleX(-1);"
          >
            <path
              d="M7.41287 3.39952C7.95649 2.86683 8.83784 2.86683 9.38161 3.39952L16.1855 10.0727C17.2719 11.1383 17.2714 12.8649 16.1845 13.9298L9.37659 20.6005C8.83283 21.1332 7.95148 21.1332 7.40772 20.6005C6.86409 20.0678 6.86409 19.2041 7.40772 18.6715L13.2347 12.962C13.7784 12.4294 13.7784 11.5658 13.2347 11.033L7.41287 5.32856C6.86911 4.79588 6.86911 3.93221 7.41287 3.39952Z"
            />
          </svg>
        </button>
        }
      </div>
    </div>
  </div>
</section>