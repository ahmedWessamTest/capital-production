import './polyfills.server.mjs';
import{Dc as l,F as a,I as s,M as g,ad as d,ea as u}from"./chunk-UQC3G75Y.mjs";import{a as r}from"./chunk-X2SEQXRR.mjs";var o=class e{_http=g(l);baseUrl=d.BASE_URL;buildingData=u(null);buildingData$=this.buildingData.asReadonly();getTypes(){return this.buildingData()?.types||[]}getCountries(){return this.buildingData()?.countries||[]}getCountriesByType(i){return this.getCountries().filter(t=>t.build_type_id===i)}getInsurances(){return this.buildingData()?.category.buildinginsurances||[]}getActiveInsurances(){return this.getInsurances().filter(i=>i.active_status==="1")}getChoicesByInsurance(i){return this.getInsurances().find(n=>n.id===i)?.buildingchoices.filter(n=>n.active_status==="1")||[]}fetchBuildingData(i){let t=r({type:"building"},i&&{employee_number:i});return this._http.get(`${this.baseUrl}app-policies/policies-content/3`,{params:t}).pipe(a(n=>{this.buildingData.set(n)}))}submitBuildingPolicy(i){return this._http.post(`${this.baseUrl}app-policies/policies-building-store`,i)}createBuildingLead(i){return i.has("category_id")||i.append("category_id","3"),this._http.post(`${this.baseUrl}app-leads/building-lead`,i)}updateBuildingLead(i,t){return this._http.post(`${this.baseUrl}app-leads/building-update/${i}`,t)}createBuildingClaim(i){return this._http.post(`${this.baseUrl}app-claims/claim-building-store`,i)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=s({token:e,factory:e.\u0275fac,providedIn:"root"})};export{o as a};
