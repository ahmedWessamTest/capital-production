import './polyfills.server.mjs';
import{a as Ze}from"./chunk-UAAYWOHM.mjs";import{a as He,b as We}from"./chunk-D2NDSX4Y.mjs";import{a as Ke}from"./chunk-QSSTDYIO.mjs";import{a as _e,b as ge,c as ne}from"./chunk-LXLVBX4L.mjs";import{a as de}from"./chunk-IXSHJDI5.mjs";import{a as Te}from"./chunk-5E24ZYRD.mjs";import{a as Ee}from"./chunk-THDIXY73.mjs";import{a as ze}from"./chunk-ZB3MPORE.mjs";import{b as pe}from"./chunk-FXIUZE2V.mjs";import{e as Be}from"./chunk-D4LSP6XO.mjs";import"./chunk-7XZGEYGO.mjs";import{b as fe,c as w,d as xe,e as ve,i as he,j as ye,k as be,l as Ce,m as Se,r as Fe,u as Ie,w as ae}from"./chunk-YRG62QXE.mjs";import{a as we}from"./chunk-666L3XN7.mjs";import{o as se}from"./chunk-VP43NVKH.mjs";import{$a as D,$c as oe,Aa as W,Ab as u,Bb as I,Db as M,F as E,Fa as g,Ic as te,Jc as ie,M as Ue,Ma as p,Na as Z,Nb as J,Oa as De,Qa as j,Rc as ue,Sa as T,U as h,V as y,W as Me,Xa as r,Ya as l,Za as f,Zc as re,_a as k,_c as le,ab as B,b as ce,bb as b,cb as c,cc as Q,db as G,dc as me,ec as X,ia as $e,ic as Ge,jb as U,kb as s,l as N,lb as v,mb as _,oc as ee,qa as qe,qc as Re,ra as A,tb as Y,u as P,ub as S,va as n,vb as L,za as C,zb as d}from"./chunk-UQC3G75Y.mjs";import{a as O,b as H}from"./chunk-X2SEQXRR.mjs";var at=t=>({"sm:text-left":t}),Le=(t,a)=>({"text-right":t,"text-left":a}),R=t=>({"order-2":t}),Ne=t=>({"border-blue-500 text-blue-500":t}),Ae=(t,a)=>({"border-blue-500":t,"border-gray-400":a}),ut=()=>[1,2,3],_t=()=>[1,2,3,4,5,6,7];function gt(t,a){if(t&1&&(r(0,"div",15)(1,"div",16),f(2,"img",17),d(3,"translate"),l(),r(4,"div",18)(5,"p",19),s(6),d(7,"translate"),l(),r(8,"p",20),s(9),d(10,"translate"),l()()()),t&2){let e=c();n(2),G("alt",u(3,4,"pages.building_policy.ai_avatar_alt")),n(2),p("ngClass",S(10,at,e.translate.currentLang==="en")),n(2),_(" ",u(7,6,"pages.building_policy.ai_greeting")," "),n(3),_(" ",u(10,8,"pages.building_policy.ai_subtext")," ")}}function ft(t,a){if(t&1&&(r(0,"div",21)(1,"div",22),f(2,"div",23),l(),r(3,"p",24),s(4),l()()),t&2){let e=c();n(2),Z("width",e.progress,"%"),n(),p("ngClass",S(4,at,e.translate.currentLang==="en")),n(),_(" ",e.steps[e.step][e.translate.currentLang==="ar"?"ar_title":"en_title"]," ")}}function xt(t,a){if(t&1&&(r(0,"span",33),s(1),d(2,"translate"),l()),t&2){let e=c(2);p("ngClass",S(4,R,e.translate.currentLang==="ar")),n(),v(u(2,2,"pages.building_policy.form.personal_information.errors.name_required"))}}function vt(t,a){if(t&1&&(r(0,"span",33),s(1),d(2,"translate"),l()),t&2){let e=c(2);p("ngClass",S(4,R,e.translate.currentLang==="ar")),n(),v(u(2,2,"pages.building_policy.form.personal_information.errors.phone_required"))}}function ht(t,a){if(t&1&&(r(0,"span",33),s(1),d(2,"translate"),l()),t&2){let e=c(3);p("ngClass",S(4,R,e.translate.currentLang==="ar")),n(),v(u(2,2,"pages.building_policy.form.personal_information.errors.email_required"))}}function yt(t,a){if(t&1&&(r(0,"span",33),s(1),d(2,"translate"),l()),t&2){let e=c(3);p("ngClass",S(4,R,e.translate.currentLang==="ar")),n(),v(u(2,2,"pages.building_policy.form.personal_information.errors.email_invalid"))}}function bt(t,a){if(t&1&&g(0,ht,3,6,"span",33)(1,yt,3,6,"span",33),t&2){let e,i=c(2);T((e=i.claimForm.get("email"))!=null&&e.hasError("required")?0:(e=i.claimForm.get("email"))!=null&&e.hasError("email")||(e=i.claimForm.get("email"))!=null&&e.hasError("pattern")?1:-1)}}function Ct(t,a){if(t&1){let e=B();r(0,"div",25)(1,"div",26)(2,"div",27),s(3),d(4,"translate"),l(),r(5,"div",28),s(6),d(7,"translate"),l(),r(8,"div",29),s(9),d(10,"translate"),l()(),r(11,"div",30)(12,"div",30)(13,"input",31),d(14,"translate"),b("input",function(o){h(e);let m=c();return y(m.restrictToLetters(o))})("paste",function(o){h(e);let m=c();return y(m.preventPaste(o))}),l(),r(15,"div",32),g(16,xt,3,6,"span",33),l()(),r(17,"div",30)(18,"input",34),d(19,"translate"),b("paste",function(o){h(e);let m=c();return y(m.preventPaste(o))})("keydown",function(o){h(e);let m=c();return y(m.preventNonNumeric(o))}),l(),r(20,"div",32),g(21,vt,3,6,"span",33),l()(),r(22,"div",30)(23,"input",35),d(24,"translate"),b("paste",function(o){h(e);let m=c();return y(m.preventPaste(o))}),l(),r(25,"div",32),g(26,bt,2,1),l()()()()}if(t&2){let e,i,o,m=c();n(3),_(" ",u(4,12,"pages.building_policy.form.personal_information.prompt_0")," "),n(3),_(" ",u(7,14,"pages.building_policy.form.personal_information.prompt_1")," "),n(3),_(" ",u(10,16,"pages.building_policy.form.personal_information.prompt_2")," "),n(4),p("ngClass",L(24,Le,m.translate.currentLang==="ar",m.translate.currentLang==="en"))("placeholder",u(14,18,"pages.building_policy.form.personal_information.name_placeholder")),n(3),T((e=m.claimForm.get("name"))!=null&&e.touched&&((e=m.claimForm.get("name"))!=null&&e.invalid)?16:-1),n(2),p("ngClass",L(27,Le,m.translate.currentLang==="ar",m.translate.currentLang==="en"))("placeholder",u(19,20,"pages.building_policy.form.personal_information.phone_placeholder")),n(3),T((i=m.claimForm.get("phone"))!=null&&i.touched&&((i=m.claimForm.get("phone"))!=null&&i.invalid)?21:-1),n(2),p("ngClass",L(30,Le,m.translate.currentLang==="ar",m.translate.currentLang==="en"))("placeholder",u(24,22,"pages.building_policy.form.personal_information.email_placeholder")),n(3),T((o=m.claimForm.get("email"))!=null&&o.touched&&((o=m.claimForm.get("email"))!=null&&o.invalid)?26:-1)}}function St(t,a){t&1&&f(0,"span",42)}function Ft(t,a){if(t&1){let e=B();r(0,"label",38)(1,"input",39),b("change",function(){let o=h(e).$implicit,m=c(2);return y(m.onBuildTypeSelected(o))}),l(),r(2,"span",40),g(3,St,1,0,"span",41),l(),s(4),d(5,"customTranslate"),l()}if(t&2){let e,i,o,m=a.$implicit,x=c(2);p("ngClass",S(8,Ne,((e=x.claimForm.get("buildType"))==null?null:e.value)===m.id)),n(),p("value",m.id),n(),p("ngClass",L(10,Ae,((i=x.claimForm.get("buildType"))==null?null:i.value)===m.id,((i=x.claimForm.get("buildType"))==null?null:i.value)!==m.id)),n(),p("ngIf",((o=x.claimForm.get("buildType"))==null?null:o.value)===m.id),n(),_(" ",I(5,5,m,"name")," ")}}function It(t,a){if(t&1&&(r(0,"span",33),s(1),d(2,"translate"),l()),t&2){let e=c(2);p("ngClass",S(4,R,e.translate.currentLang==="ar")),n(),v(u(2,2,"pages.building_policy.form.build_type.errors.build_type_required"))}}function wt(t,a){if(t&1&&(r(0,"div",25)(1,"div",26)(2,"div",27),s(3),d(4,"translate"),l(),r(5,"div",28),s(6),d(7,"translate"),l(),r(8,"div",29),s(9),d(10,"translate"),l()(),r(11,"div",36),g(12,Ft,6,13,"label",37),l(),r(13,"div",32),g(14,It,3,6,"span",33),l()()),t&2){let e,i=c();n(3),_(" ",u(4,5,"pages.building_policy.form.build_type.prompt_0")," "),n(3),_(" ",u(7,7,"pages.building_policy.form.build_type.prompt_1")," "),n(3),_(" ",u(10,9,"pages.building_policy.form.build_type.prompt_2")," "),n(3),p("ngForOf",i.buildTypes),n(2),T((e=i.claimForm.get("buildType"))!=null&&e.touched&&((e=i.claimForm.get("buildType"))!=null&&e.invalid)?14:-1)}}function Bt(t,a){if(t&1&&(r(0,"span",33),s(1),d(2,"translate"),l()),t&2){let e=c(2);p("ngClass",S(4,R,e.translate.currentLang==="ar")),n(),v(u(2,2,"pages.building_policy.form.country.errors.country_required"))}}function Et(t,a){if(t&1){let e=B();r(0,"div",25)(1,"div",26)(2,"div",27),s(3),d(4,"translate"),l(),r(5,"div",28),s(6),d(7,"translate"),l(),r(8,"div",29),s(9),d(10,"translate"),l()(),r(11,"div",43)(12,"app-policy-drop-down",44),d(13,"translate"),b("selected",function(o){h(e);let m=c();return y(m.onCountrySelected(o))})("focused",function(){h(e);let o=c();return y(o.onDropdownFocus("country"))}),l(),r(14,"div",32),g(15,Bt,3,6,"span",33),l()()()}if(t&2){let e,i,o=c();n(3),_(" ",u(4,9,"pages.building_policy.form.country.prompt_0")," "),n(3),_(" ",u(7,11,"pages.building_policy.form.country.prompt_1")," "),n(3),_(" ",u(10,13,"pages.building_policy.form.country.prompt_2")," "),n(3),p("governorates",o.countries)("displayProperty","name")("valueProperty","id")("placeholder",u(13,15,"pages.building_policy.form.country.placeholder"))("showError",((e=(e=o.claimForm.get("country"))==null?null:e.touched)!==null&&e!==void 0?e:!1)&&((e=(e=o.claimForm.get("country"))==null?null:e.invalid)!==null&&e!==void 0?e:!1)),n(3),T((i=o.claimForm.get("country"))!=null&&i.touched&&((i=o.claimForm.get("country"))!=null&&i.invalid)?15:-1)}}function Tt(t,a){if(t&1&&(r(0,"span",33),s(1),d(2,"translate"),l()),t&2){let e=c(3);p("ngClass",S(4,R,e.translate.currentLang==="ar")),n(),v(u(2,2,"pages.building_policy.form.building_value.errors.building_value_required"))}}function Lt(t,a){if(t&1&&(r(0,"span",33),s(1),d(2,"translate"),l()),t&2){let e=c(3);p("ngClass",S(4,R,e.translate.currentLang==="ar")),n(),v(u(2,2,"pages.building_policy.form.building_value.errors.building_value_min"))}}function Vt(t,a){if(t&1&&g(0,Tt,3,6,"span",33)(1,Lt,3,6,"span",33),t&2){let e,i=c(2);T((e=i.claimForm.get("buildingValue"))!=null&&e.hasError("required")?0:(e=i.claimForm.get("buildingValue"))!=null&&e.hasError("min")?1:-1)}}function Pt(t,a){if(t&1){let e=B();r(0,"div",25)(1,"div",45),s(2),d(3,"translate"),l(),r(4,"div",46),s(5),d(6,"translate"),l(),r(7,"div",43)(8,"input",47),d(9,"translate"),b("paste",function(o){h(e);let m=c();return y(m.preventPaste(o))})("keydown",function(o){h(e);let m=c();return y(m.preventNonNumeric(o))}),l(),r(10,"div",32),g(11,Vt,2,1),l()()()}if(t&2){let e,i=c();n(2),_(" ",u(3,6,"pages.building_policy.form.building_value.prompt_1")," "),n(3),_(" ",u(6,8,"pages.building_policy.form.building_value.prompt_2")," "),n(3),p("ngClass",L(12,Le,i.translate.currentLang==="ar",i.translate.currentLang==="en"))("placeholder",u(9,10,"pages.building_policy.form.building_value.placeholder"))("min",5e5),n(3),T((e=i.claimForm.get("buildingValue"))!=null&&e.touched&&((e=i.claimForm.get("buildingValue"))!=null&&e.invalid)?11:-1)}}function kt(t,a){t&1&&(r(0,"div",51),s(1),d(2,"translate"),l()),t&2&&(n(),_(" ",u(2,1,"pages.building_policy.form.select_plan.no_plans")," "))}function Dt(t,a){t&1&&(r(0,"div",61),f(1,"div",62)(2,"div",63),l())}function Nt(t,a){t&1&&(r(0,"div",54)(1,"div",55),f(2,"div",56)(3,"div",57),r(4,"div",58),g(5,Dt,3,0,"div",59),l(),f(6,"div",60),l()()),t&2&&(n(5),p("ngForOf",Y(1,_t)))}function At(t,a){t&1&&(k(0),r(1,"div",52),g(2,Nt,7,2,"div",53),l(),D()),t&2&&(n(2),p("ngForOf",Y(1,ut)))}function jt(t,a){if(t&1&&(f(0,"img",82),d(1,"customTranslate")),t&2){let e=c(3).$implicit;p("src",e.en_description,A)("alt",I(1,2,e,"title"))}}function Ot(t,a){t&1&&(r(0,"span"),s(1,"Link"),l())}function Ut(t,a){if(t&1&&(r(0,"span")(1,"a",80),g(2,jt,2,5,"img",81)(3,Ot,2,0,"span",10),l()()),t&2){let e=c(2).$implicit;n(),p("href",e.en_description,A),n(),p("ngIf",e.en_description.includes(".png")||e.en_description.includes(".jpg")),n(),p("ngIf",!e.en_description.includes(".png")&&!e.en_description.includes(".jpg"))}}function Mt(t,a){if(t&1&&(r(0,"span"),s(1),l()),t&2){let e=c(2).$implicit;n(),_(" ",e.en_description," EGP ")}}function $t(t,a){if(t&1&&(r(0,"span"),s(1),d(2,"customTranslate"),l()),t&2){let e=c(2).$implicit;n(),_(" ",I(2,1,e,"description")," ")}}function qt(t,a){if(t&1&&(k(0),r(1,"span",77),g(2,Ut,4,3,"span",10)(3,Mt,2,1,"span",10)(4,$t,3,4,"span",10),l(),D()),t&2){let e=c().$implicit,i=c(5);n(2),p("ngIf",i.isValidUrl(e.en_description)),n(),p("ngIf",!i.isValidUrl(e.en_description)&&i.isNumber(e.en_description)),n(),p("ngIf",!i.isValidUrl(e.en_description)&&!i.isNumber(e.en_description))}}function Gt(t,a){t&1&&(r(0,"span",83),s(1,"Not found"),l())}function Rt(t,a){if(t&1&&(r(0,"li",74)(1,"div",61),f(2,"img",75),r(3,"span",76),s(4),d(5,"customTranslate"),l()(),g(6,qt,5,3,"ng-container",50)(7,Gt,2,0,"ng-template",null,1,M),l()),t&2){let e=a.$implicit,i=U(8);n(4),v(I(5,3,e,"title")),n(2),p("ngIf",e.en_description!=="not found"&&e.en_description)("ngIfElse",i)}}function zt(t,a){if(t&1){let e=B();r(0,"div",67)(1,"div"),f(2,"div",68)(3,"div",69),r(4,"div",70)(5,"span",71),s(6),d(7,"customTranslate"),l(),r(8,"button"),s(9),d(10,"translate"),l()(),r(11,"div",72),s(12),l(),r(13,"ul",73)(14,"li",74)(15,"div",61),f(16,"img",75),r(17,"span",76),s(18),d(19,"translate"),l()(),r(20,"span",77),s(21),l()(),r(22,"li",74)(23,"div",61),f(24,"img",75),r(25,"span",76),s(26),d(27,"translate"),l()(),r(28,"span",77),s(29),l()(),g(30,Rt,9,6,"li",78),l()(),r(31,"button",79),b("click",function(){let o=h(e).$implicit,m=c(4);return y(m.onPlanSelected(o))}),s(32),d(33,"translate"),l()()}if(t&2){let e=a.$implicit,i=a.index;j("relative w-full max-w-md mx-auto p-4 shadow-lg rounded-2xl font-Alexandria sm:p-6 ",i===0?"basic":i===1?"standard":"premium"," min-w-[280px] lg:w-[calc(33.33%-1rem)] animate-[fadeIn_0.5s_ease-in-out_0.3s_both] flex flex-col justify-between"),n(6),v(I(7,15,e,"title")),n(2),j("",i===0?"basic-btn":i===1?"standard-btn":"premium-btn"," basic-btn-text"),n(),_(" ",u(10,18,"pages.medical_policy.form.select_plan.in_year")," "),n(3),_(" ",e.year_money," EGP "),n(6),v(u(19,20,"pages.medical_policy.form.select_plan.company")),n(3),v(e.company_name),n(5),v(u(27,22,"pages.medical_policy.form.select_plan.yearly")),n(3),_("",e.month_money," EGP"),n(),p("ngForOf",e.buildingchoices),n(2),_(" ",u(33,24,"pages.medical_policy.form.select_plan.select_plan_button")," ")}}function Kt(t,a){if(t&1&&(k(0),g(1,zt,34,26,"div",66),D()),t&2){let e=c(3);n(),p("ngForOf",e.plans)}}function Ht(t,a){if(t&1&&(f(0,"img",82),d(1,"customTranslate")),t&2){let e=c(3).$implicit;p("src",e.en_description,A)("alt",I(1,2,e,"title"))}}function Wt(t,a){t&1&&(r(0,"span"),s(1,"Link"),l())}function Zt(t,a){if(t&1&&(r(0,"span")(1,"a",80),g(2,Ht,2,5,"img",81)(3,Wt,2,0,"span",10),l()()),t&2){let e=c(2).$implicit;n(),p("href",e.en_description,A),n(),p("ngIf",e.en_description.includes(".png")||e.en_description.includes(".jpg")),n(),p("ngIf",!e.en_description.includes(".png")&&!e.en_description.includes(".jpg"))}}function Yt(t,a){if(t&1&&(r(0,"span"),s(1),l()),t&2){let e=c(2).$implicit;n(),_(" ",e.en_description," EGP ")}}function Jt(t,a){if(t&1&&(r(0,"span"),s(1),d(2,"customTranslate"),l()),t&2){let e=c(2).$implicit;n(),_(" ",I(2,1,e,"description")," ")}}function Qt(t,a){if(t&1&&(k(0),r(1,"span",77),g(2,Zt,4,3,"span",10)(3,Yt,2,1,"span",10)(4,Jt,3,4,"span",10),l(),D()),t&2){let e=c().$implicit,i=c(6);n(2),p("ngIf",i.isValidUrl(e.en_description)),n(),p("ngIf",!i.isValidUrl(e.en_description)&&i.isNumber(e.en_description)),n(),p("ngIf",!i.isValidUrl(e.en_description)&&!i.isNumber(e.en_description))}}function Xt(t,a){t&1&&(r(0,"span",83),s(1,"Not found"),l())}function ei(t,a){if(t&1&&(r(0,"li",74)(1,"div",61),f(2,"img",75),r(3,"span",76),s(4),d(5,"customTranslate"),l()(),g(6,Qt,5,3,"ng-container",50)(7,Xt,2,0,"ng-template",null,1,M),l()),t&2){let e=a.$implicit,i=U(8);n(4),v(I(5,3,e,"title")),n(2),p("ngIf",e.en_description!=="not found"&&e.en_description)("ngIfElse",i)}}function ti(t,a){if(t&1){let e=B();r(0,"div",67)(1,"div"),f(2,"div",68)(3,"div",69),r(4,"div",70)(5,"span",71),s(6),d(7,"customTranslate"),l(),r(8,"button"),s(9),d(10,"translate"),l()(),r(11,"div",72),s(12),l(),r(13,"ul",73)(14,"li",74)(15,"div",61),f(16,"img",75),r(17,"span",76),s(18),d(19,"translate"),l()(),r(20,"span",77),s(21),l()(),r(22,"li",74)(23,"div",61),f(24,"img",75),r(25,"span",76),s(26),d(27,"translate"),l()(),r(28,"span",77),s(29),l()(),g(30,ei,9,6,"li",78),l()(),r(31,"button",79),b("click",function(){h(e);let o=c().$implicit,m=c(4);return y(m.onPlanSelected(o))}),s(32),d(33,"translate"),l()()}if(t&2){let e=c(),i=e.$implicit,o=e.index;j("relative flex w-full max-w-md mx-auto p-4 shadow-lg rounded-2xl font-Alexandria sm:p-6 ",o===0?"basic":o===1?"standard":"premium"," min-w-[280px] animate-[fadeIn_0.5s_ease-in-out_0.3s_both] flex flex-col justify-between min-h-[500px]"),n(6),v(I(7,15,i,"title")),n(2),j("",o===0?"basic-btn":o===1?"standard-btn":"premium-btn"," basic-btn-text"),n(),_(" ",u(10,18,"pages.motor_policy.form.select_plan.in_year")," "),n(3),_(" ",i.year_money," EGP "),n(6),v(u(19,20,"pages.motor_policy.form.select_plan.company")),n(3),v(i.company_name),n(5),v(u(27,22,"pages.motor_policy.form.select_plan.yearly")),n(3),_("",i.month_money," EGP"),n(),p("ngForOf",i.buildingchoices),n(2),_(" ",u(33,24,"pages.motor_policy.form.select_plan.select_plan_button")," ")}}function ii(t,a){if(t&1&&(k(0),g(1,ti,34,26,"ng-template",87),D()),t&2){let e=a.$implicit;n(),p("id",e.id.toString())}}function ni(t,a){if(t&1&&(k(0),r(1,"div",84)(2,"owl-carousel-o",85),g(3,ii,2,1,"ng-container",86),l()(),D()),t&2){let e=c(3);n(2),p("options",e.customOptions),n(),p("ngForOf",e.plans)}}function ai(t,a){if(t&1){let e=B();r(0,"div",52),g(1,Kt,2,1,"ng-container",10)(2,ni,4,2,"ng-container",10),l(),r(3,"div",64)(4,"button",65),b("click",function(){h(e);let o=c(2);return y(o.needCall())}),s(5),d(6,"translate"),d(7,"translate"),l()()}if(t&2){let e=c(2);n(),p("ngIf",e.plans.length<=3&&e.plans.length>0),n(),p("ngIf",e.plans.length>3),n(2),p("disabled",e.isNeedCallLoading),n(),_(" ",e.isNeedCallLoading?u(6,4,"pages.motor_policy.form.personal_information.loading"):u(7,6,"pages.motor_policy.form.car_price.need_call_button")," ")}}function ri(t,a){if(t&1&&(k(0),r(1,"div",48),g(2,kt,3,3,"div",49)(3,At,3,2,"ng-container",50)(4,ai,8,8,"ng-template",null,0,M),l(),D()),t&2){let e=U(5),i=c();n(2),p("ngIf",i.plans.length===0),n(),p("ngIf",i.isLoading)("ngIfElse",e)}}function li(t,a){if(t&1&&(f(0,"img",82),d(1,"customTranslate")),t&2){let e=c(3).$implicit;p("src",e.en_description,A)("alt",I(1,2,e,"title"))}}function oi(t,a){t&1&&(r(0,"span"),s(1,"Link"),l())}function pi(t,a){if(t&1&&(r(0,"span")(1,"a",80),g(2,li,2,5,"img",81)(3,oi,2,0,"span",10),l()()),t&2){let e=c(2).$implicit;n(),p("href",e.en_description,A),n(),p("ngIf",e.en_description.includes(".png")||e.en_description.includes(".jpg")),n(),p("ngIf",!e.en_description.includes(".png")&&!e.en_description.includes(".jpg"))}}function si(t,a){if(t&1&&(r(0,"span"),s(1),l()),t&2){let e=c(2).$implicit;n(),_(" ",e.en_description," EGP ")}}function di(t,a){if(t&1&&(r(0,"span"),s(1),d(2,"customTranslate"),l()),t&2){let e=c(2).$implicit;n(),_(" ",I(2,1,e,"description")," ")}}function ci(t,a){if(t&1&&(k(0),r(1,"span",77),g(2,pi,4,3,"span",10)(3,si,2,1,"span",10)(4,di,3,4,"span",10),l(),D()),t&2){let e=c().$implicit,i=c(3);n(2),p("ngIf",i.isValidUrl(e.en_description)),n(),p("ngIf",!i.isValidUrl(e.en_description)&&i.isNumber(e.en_description)),n(),p("ngIf",!i.isValidUrl(e.en_description)&&!i.isNumber(e.en_description))}}function mi(t,a){t&1&&(r(0,"span",83),s(1,"Not found"),l())}function ui(t,a){if(t&1&&(r(0,"li",74)(1,"div",61),f(2,"img",75),r(3,"span",76),s(4),d(5,"customTranslate"),l()(),g(6,ci,5,3,"ng-container",50)(7,mi,2,0,"ng-template",null,1,M),l()),t&2){let e=a.$implicit,i=U(8);n(4),v(I(5,3,e,"title")),n(2),p("ngIf",e.en_description!=="not found"&&e.en_description)("ngIfElse",i)}}function _i(t,a){if(t&1&&(r(0,"div",67),f(1,"div",68)(2,"div",69),r(3,"div",70)(4,"span",71),s(5),d(6,"customTranslate"),l(),r(7,"button"),s(8),d(9,"translate"),l()(),r(10,"div",72),s(11),l(),r(12,"ul",73)(13,"li",74)(14,"div",61),f(15,"img",75),r(16,"span",76),s(17),d(18,"translate"),l()(),r(19,"span",77),s(20),l()(),r(21,"li",74)(22,"div",61),f(23,"img",75),r(24,"span",76),s(25),d(26,"translate"),l()(),r(27,"span",77),s(28),l()(),g(29,ui,9,6,"li",78),l()()),t&2){let e=c(2);j("relative w-full max-w-md mx-auto p-4 shadow-lg rounded-2xl font-Alexandria sm:p-6 ",e.selectedPlan.id===e.plans[0].id?"basic":e.selectedPlan.id===e.plans[1].id?"standard":"premium"," animate-[fadeIn_0.5s_ease-in-out_0.3s_both]"),n(5),v(I(6,14,e.selectedPlan,"title")),n(2),j("",e.selectedPlan.id===e.plans[0].id?"basic-btn":e.selectedPlan.id===e.plans[1].id?"standard-btn":"premium-btn"," basic-btn-text"),n(),_(" ",u(9,17,"pages.building_policy.form.select_plan.in_year")," "),n(3),_(" ",e.selectedPlan.year_money," EGP "),n(6),v(u(18,19,"pages.building_policy.form.select_plan.company")),n(3),v(e.selectedPlan.company_name),n(5),v(u(26,21,"pages.building_policy.form.select_plan.yearly")),n(3),_("",e.selectedPlan.month_money," EGP"),n(),p("ngForOf",e.selectedPlan.buildingchoices)}}function gi(t,a){t&1&&(r(0,"div",51),s(1),d(2,"translate"),l()),t&2&&(n(),_(" ",u(2,1,"pages.building_policy.form.payment.no_plan_selected")," "))}function fi(t,a){t&1&&f(0,"span",100)}function xi(t,a){t&1&&f(0,"span",100)}function vi(t,a){if(t&1){let e=B();r(0,"div",88)(1,"div",89),g(2,_i,30,23,"div",90)(3,gi,3,3,"div",49),l(),r(4,"div",91)(5,"div",45),s(6),d(7,"translate"),l(),r(8,"div",92),s(9),d(10,"translate"),l(),r(11,"div",25)(12,"div",93)(13,"label",38),f(14,"input",94),r(15,"span",95),g(16,fi,1,0,"span",96),l(),s(17),d(18,"translate"),l()(),r(19,"div",45),s(20),d(21,"translate"),l(),r(22,"div")(23,"label",38),f(24,"input",97),r(25,"span",95),g(26,xi,1,0,"span",96),l(),s(27),d(28,"translate"),l()()(),r(29,"div",98)(30,"button",99),b("click",function(){h(e);let o=c();return y(o.pay())}),s(31),d(32,"translate"),d(33,"translate"),l(),r(34,"button",65),b("click",function(){h(e);let o=c();return y(o.needCall())}),s(35),d(36,"translate"),d(37,"translate"),l()()()()}if(t&2){let e,i,o,m,x,V,F=c();n(2),p("ngIf",F.selectedPlan),n(),p("ngIf",!F.selectedPlan),n(3),_(" ",u(7,17,"pages.building_policy.form.payment.payment_prompt_1")," "),n(3),_(" ",u(10,19,"pages.building_policy.form.payment.payment_prompt_2")," "),n(4),p("ngClass",S(35,Ne,((e=F.claimForm.get("paymentType"))==null?null:e.value)==="Full Payment")),n(2),p("ngClass",L(37,Ae,((i=F.claimForm.get("paymentType"))==null?null:i.value)==="Full Payment",((i=F.claimForm.get("paymentType"))==null?null:i.value)!=="Full Payment")),n(),p("ngIf",((o=F.claimForm.get("paymentType"))==null?null:o.value)==="Full Payment"),n(),_(" ",u(18,21,"pages.building_policy.form.payment.full_payment")," "),n(3),_(" ",u(21,23,"pages.building_policy.form.payment.payment_methods")," "),n(3),p("ngClass",S(40,Ne,((m=F.claimForm.get("paymentMethod"))==null?null:m.value)==="Cash")),n(2),p("ngClass",L(42,Ae,((x=F.claimForm.get("paymentMethod"))==null?null:x.value)==="Cash",((x=F.claimForm.get("paymentMethod"))==null?null:x.value)!=="Cash")),n(),p("ngIf",((V=F.claimForm.get("paymentMethod"))==null?null:V.value)==="Cash"),n(),_(" ",u(28,25,"pages.building_policy.form.payment.cash")," "),n(3),p("disabled",F.isLoading),n(),_(" ",F.isLoading?u(32,27,"pages.building_policy.form.personal_information.loading"):u(33,29,"pages.building_policy.form.payment.pay_button")," "),n(3),p("disabled",F.isNeedCallLoading),n(),_(" ",F.isNeedCallLoading?u(36,31,"pages.building_policy.form.personal_information.loading"):u(37,33,"pages.building_policy.form.building_value.need_call_button")," ")}}function hi(t,a){if(t&1&&(r(0,"button",101),s(1),d(2,"translate"),d(3,"translate"),l()),t&2){let e=c();p("disabled",e.isLoading),n(),_(" ",e.isLoading?u(2,2,"pages.building_policy.form.personal_information.loading"):u(3,4,"pages.building_policy.form.next_button")," ")}}function yi(t,a){if(t&1){let e=B();r(0,"button",65),b("click",function(){h(e);let o=c();return y(o.needCall())}),s(1),d(2,"translate"),d(3,"translate"),l()}if(t&2){let e=c();p("disabled",e.isNeedCallLoading),n(),_(" ",e.isNeedCallLoading?u(2,2,"pages.building_policy.form.personal_information.loading"):u(3,4,"pages.building_policy.form.building_value.need_call_button")," ")}}var Ve=class t{constructor(a,e,i,o,m,x,V,F,z,ke,ot){this.fb=a;this.authService=e;this.buildingInsuranceService=i;this.translate=o;this.languageService=m;this.alertService=x;this.router=V;this.authStorage=F;this.cdr=z;this.meta=ke;this.title=ot;this.claimForm=this.fb.group({name:["",w.required],phone:["",[w.required,w.pattern(/^01[0125]\d{8}$/)]],email:["",[w.required,w.email,w.pattern(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/)]],buildType:["",w.required],country:["",w.required],buildingValue:["",[w.required,w.min(5e5)]],paymentType:["Full Payment",w.required],paymentMethod:["Cash",w.required],needCall:["No"]}),this.languageSubscription=this.languageService.currentLanguage$.subscribe(q=>{this.cdr.markForCheck(),this.updateCarouselDirection(q),this.currentLanguage=q}),this.alertSubscription=this.alertService.showAlert$.subscribe(q=>{!q&&this.step===4&&(this.showPlans=!0)})}userDataStatus={name:!1,email:!1,phone:!1};claimForm;step=0;progress=16.67;selectedPlan=null;leadId=null;isLoading=!1;showPlans=!1;languageSubscription;alertSubscription;isTextContentLoading=!0;buildTypes=[];countries=[];plans=[];category=null;isNeedCallLoading=!1;steps=[{en_title:"Personal Information",ar_title:"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0634\u062E\u0635\u064A\u0629",formFields:["name","phone","email"]},{en_title:"Building Type",ar_title:"\u0646\u0648\u0639 \u0627\u0644\u0645\u0628\u0646\u0649",formFields:["buildType"]},{en_title:"Country",ar_title:"\u0627\u0644\u0628\u0644\u062F",formFields:["country"]},{en_title:"Building Value",ar_title:"\u0642\u064A\u0645\u0629 \u0627\u0644\u0645\u0628\u0646\u0649",formFields:["buildingValue"]},{en_title:"Select Plan",ar_title:"\u0627\u062E\u062A\u064A\u0627\u0631 \u0627\u0644\u062E\u0637\u0629",formFields:[]},{en_title:"Payment",ar_title:"\u0627\u0644\u062F\u0641\u0639",formFields:["paymentType","paymentMethod"]}];customOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,smartSpeed:700,navText:["<",">"],nav:!0,center:!0,autoplay:!0,margin:16,responsive:{0:{items:1,nav:!0},400:{items:1,nav:!0},600:{items:2,nav:!0},1e3:{items:3,nav:!0}},rtl:!1};currentLanguage="en";fillUserData(a){if(a){let{name:e,email:i,phone:o}=a;this.claimForm.patchValue({name:e,email:i,phone:o});let m=["name","email","phone"];this.userDataStatus={name:!!a.name,email:!!a.email,phone:!!a.phone},m.forEach(x=>{let V=this.claimForm.get(x);this.userDataStatus[x]&&V&&V.disable()})}}ngOnInit(){if(this.isTextContentLoading=!0,typeof window<"u"&&this.authService.isAuthenticated()){let a=this.authService.getUserData();this.fillUserData(a)}this.buildingInsuranceService.fetchBuildingData().pipe(E(a=>{this.category=a.category;let e=this.translate.currentLang==="ar"?a.category.ar_meta_title:a.category.en_meta_title,i=this.translate.currentLang==="ar"?a.category.ar_meta_description:a.category.en_meta_description;this.title.setTitle(e),this.meta.updateTag({name:"description",content:i}),this.cdr.markForCheck(),this.plans=this.buildingInsuranceService.getActiveInsurances(),this.buildTypes=a.types.map(o=>({id:o.id,name:o.en_title,code:o.en_title,en_name:o.en_title,ar_name:o.ar_title})),this.countries=a.countries.map(o=>({id:o.id,name:o.en_title,code:o.en_title,en_name:o.en_title,ar_name:o.ar_title})),this.isTextContentLoading=!1,this.cdr.markForCheck()}),P(a=>(console.error("Error fetching building data:",a),this.alertService.showNotification({translationKeys:{message:"pages.building_policy.errors.data_fetch_failed"}}),this.isTextContentLoading=!1,this.cdr.markForCheck(),N(null)))).subscribe()}ngOnDestroy(){this.languageSubscription&&this.languageSubscription.unsubscribe(),this.alertSubscription&&this.alertSubscription.unsubscribe()}updateCarouselDirection(a){let e=a==="ar";this.customOptions.rtl!==e&&(this.customOptions=H(O({},this.customOptions),{rtl:e,navText:e?["\u0627\u0644\u062A\u0627\u0644\u064A","\u0627\u0644\u0633\u0627\u0628\u0642"]:["Previous","Next"]}))}onBuildTypeSelected(a){if(this.claimForm.get("buildType")?.setValue(a?a.id:""),this.claimForm.get("buildType")?.markAsTouched(),a&&a.id!==0){let e=this.buildingInsuranceService.getCountriesByType(Number(a.id));this.countries=e.map(i=>({id:i.id,name:i.en_title,code:i.en_title,en_name:i.en_title,ar_name:i.ar_title}))}else this.countries=[];this.claimForm.get("country")?.setValue("")}onCountrySelected(a){this.claimForm.get("country")?.setValue(a?a.id:""),this.claimForm.get("country")?.markAsTouched()}onDropdownFocus(a){this.claimForm.get(a)?.markAsTouched()}onPlanSelected(a){this.selectedPlan=a,this.step++,this.progress=100}createFormData(){let a=new FormData;return[{key:"name",value:this.claimForm.get("name")?.value,include:this.step>=0},{key:"phone",value:this.claimForm.get("phone")?.value,include:this.step>=0},{key:"email",value:this.claimForm.get("email")?.value,include:this.step>=0},{key:"build_type_id",value:this.claimForm.get("buildType")?.value||"",include:this.step>=1},{key:"country_id",value:this.claimForm.get("country")?.value||"",include:this.step>=2},{key:"building_price",value:this.claimForm.get("buildingValue")?.value||"",include:this.step>=3},{key:"need_call",value:this.claimForm.get("needCall")?.value||"No",include:this.step>=3}].forEach(i=>{i.include&&i.value&&a.append(i.key,i.value)}),a}needCall(){this.isNeedCallLoading=!0,this.claimForm.get("needCall")?.setValue("Yes");let a=this.createFormData(),e=this.translate.currentLang||"en";this.leadId?this.buildingInsuranceService.updateBuildingLead(this.leadId,a).pipe(E(()=>{let i=[this.translate.instant("pages.building_policy.alerts.call_request_success"),this.translate.instant("pages.building_policy.alerts.call_request_contact"),this.translate.instant("pages.building_policy.alerts.call_request_thanks")];this.alertService.showCallRequest({messages:i,buttonLabel:this.translate.instant("pages.building_policy.alerts.back_button")})}),P(i=>(console.error("Error updating lead with need call:",i),this.alertService.showNotification({translationKeys:{message:"pages.building_policy.errors.lead_update_failed"}}),N(null))),E(()=>this.isNeedCallLoading=!1)).subscribe():this.buildingInsuranceService.createBuildingLead(a).pipe(E(i=>{this.leadId=i.data.id;let o=this.translate.instant("pages.building_policy.alerts.back_button");this.alertService.showCallRequest({messages:[this.translate.instant("pages.building_policy.alerts.call_request_success"),this.translate.instant("pages.building_policy.alerts.call_request_contact"),this.translate.instant("pages.building_policy.alerts.call_request_thanks")],buttonLabel:o,redirectRoute:`/${e}/home`})}),P(i=>(console.error("Error creating lead with need call:",i),this.alertService.showNotification({translationKeys:{message:"pages.building_policy.errors.lead_creation_failed"}}),N(null))),E(()=>this.isNeedCallLoading=!1)).subscribe()}nextStep(){let a=this.steps[this.step].formFields;if(a.forEach(i=>{let o=this.claimForm.get(i);o&&!o.disabled&&o.markAsTouched()}),!!a.every(i=>{let o=this.claimForm.get(i);return o?.disabled||o?.valid})&&!this.isLoading)if(this.isLoading=!0,this.step===0&&!this.authService.isAuthenticated()){let i=this.claimForm.value,o={name:i.name,email:i.email,phone:i.phone,password:"defaultPassword123"};this.authService.register(o).pipe(P(m=>{console.error("Registration error:",m),this.isLoading=!1;let x=this.translate.instant("pages.home_form.errors.registration_failed");return(m.status===422||m.status===400)&&m.error?.errors?(m.error.errors.email&&(x+=`
- ${this.translate.instant("pages.home_form.errors.email_exist")}`),m.error.errors.phone&&(x+=`
- ${this.translate.instant("pages.home_form.errors.phone_exist")}`),this.alertService.showGeneral({messages:[x+`
`]}),this.router.navigate(["/",this.authService.getCurrentLang(),"login"])):alert(this.translate.instant("pages.home_form.errors.unexpected_error")),new ce(V=>V.error(m))}),E(m=>{console.log("User registered successfully:",m),this.authStorage.saveUserData(m.user)})).subscribe({next:()=>{this.proceedWithNextStep()},error:()=>{this.isLoading=!1}})}else this.proceedWithNextStep()}updateUserData(){if(Object.values(this.userDataStatus).some(a=>a===!1)&&this.authService.isAuthenticated()){let a=new FormData;a.append("user_id",String(this.authService?.getUserId())),Object.keys(this.userDataStatus).forEach(e=>{if(!this.userDataStatus[e]){let i=this.claimForm.get(e)?.value;i&&a.append(e,i)}}),this.authService.updateUserData(a).subscribe({next:e=>{let i=this.authService.getUserData(),o=Te(a);if(console.log("updated user data",o),i){let m=O(O({},i),o);this.authStorage.saveUserData(m)}},error:e=>{console.log("error while updating user data after lead creation",e)}})}}proceedWithNextStep(){let a=this.createFormData();this.step===0||!this.leadId?(this.buildingInsuranceService.createBuildingLead(a).pipe(E(e=>{this.leadId=e.data.id,this.step++,this.progress=(this.step+1)*16.67,this.step===4&&(this.showPlans=!1,this.alertService.showGeneral({messages:[this.translate.instant("pages.building_policy.alerts.building_request"),this.translate.instant("pages.building_policy.alerts.building_request_contact"),this.translate.instant("pages.building_policy.alerts.building_request_thanks")],imagePath:"assets/common/loading.gif",secondaryImagePath:"assets/common/otp.gif"}))}),P(e=>(console.error("Error creating lead:",e),this.alertService.showNotification({translationKeys:{message:"pages.building_policy.errors.lead_creation_failed"}}),N(null)))).subscribe({complete:()=>{this.isLoading=!1,setTimeout(()=>{this.alertService.hide()},1e3)}}),this.updateUserData()):this.buildingInsuranceService.updateBuildingLead(this.leadId,a).pipe(E(()=>{this.step++,this.progress=(this.step+1)*16.67,this.step===4&&(this.showPlans=!1,this.alertService.showGeneral({messages:[this.translate.instant("pages.building_policy.alerts.building_request")],imagePath:"assets/common/loading.gif",secondaryImagePath:"assets/common/otp.gif"}))}),P(e=>(console.error("Error updating lead:",e),this.alertService.showNotification({translationKeys:{message:"pages.building_policy.errors.lead_update_failed"}}),N(null)))).subscribe({complete:()=>{this.isLoading=!1,setTimeout(()=>{this.alertService.hide()},1e3)}})}pay(){if(!this.selectedPlan||!this.category){this.alertService.showNotification({translationKeys:{message:"pages.building_policy.errors.no_plan_selected"}});return}this.isLoading||(this.isLoading=!0,this.proceedWithPayment())}proceedWithPayment(){let a={category_id:String(this.category.id),user_id:this.authService.getUserId()||"0",building_insurance_id:String(this.selectedPlan.id),name:this.claimForm.get("name")?.value,email:this.claimForm.get("email")?.value,phone:this.claimForm.get("phone")?.value,building_type_id:String(this.claimForm.get("buildType")?.value),building_type:this.buildTypes.find(i=>i.id===this.claimForm.get("buildType")?.value)?.name,building_country_id:String(this.claimForm.get("country")?.value),building_country:this.countries.find(i=>i.id===this.claimForm.get("country")?.value)?.name,building_price:String(this.claimForm.get("buildingValue")?.value),payment_method:"Cash",active_status:"requested"},e=this.translate.currentLang||"en";this.buildingInsuranceService.submitBuildingPolicy(a).pipe(E(i=>{console.log("Policy submitted:",i),this.alertService.showGeneral({messages:[this.translate.instant("pages.building_policy.alerts.policy_submitted"),this.translate.instant("pages.building_policy.alerts.policy_review"),`${this.translate.instant("pages.building_policy.alerts.request_code")} ${i.data.id}`],buttonLabel:this.translate.instant("pages.building_policy.alerts.back_button"),redirectRoute:`/${e}/home`}),this.router.navigate(["/",e,"home"]),this.claimForm.reset(),this.step=0,this.buildTypes=[],this.countries=[],this.plans=[],this.category=null,this.progress=16.67,this.selectedPlan=null,this.leadId=null}),P(i=>(console.error("Error submitting policy:",i),this.alertService.showNotification({translationKeys:{message:this.translate.instant("pages.building_policy.errors.policy_submission_failed")}}),N(null))),E(()=>this.isLoading=!1)).subscribe()}isValidUrl(a){try{return new URL(a),!0}catch{return!1}}isNumber(a){return!isNaN(Number(a))&&a.trim()!==""}preventPaste(a){a.preventDefault()}preventNonNumeric(a){let e=["Backspace","Tab","ArrowLeft","ArrowRight","Delete"];!/[0-9]/.test(a.key)&&!e.includes(a.key)&&a.preventDefault()}RestirctToNumbers(a){let e=a.target,i=e.value,o=i.replace(/[^0-9]/g,"");i!==o&&(e.value=o,this.claimForm.get("phone")?.setValue(o))}restrictToLetters(a){let e=a.target,i=e.value,o=i.replace(/[0-9]/g,"");i!==o&&(e.value=o,this.claimForm.get("fullName")?.setValue(o))}static \u0275fac=function(e){return new(e||t)(C(Ie),C(Be),C(de),C(re),C(se),C(pe),C(ue),C(we),C(J),C(te),C(ie))};static \u0275cmp=W({type:t,selectors:[["app-building-individual-form"]],decls:17,vars:14,consts:[["content",""],["notFound",""],["id","policy-form",1,"mx-5","md:mx-10","lg:mx-20","min-h-[500px]"],["loading","eager","fetchpriority","high","src","assets/policies/bg.png",1,"absolute","object-contain","bottom-0","h-[700px]","w-[400px]","-start-20",2,"z-index","2",3,"alt"],[1,"absolute","inset-0","bg-transparent","opacity-50",2,"z-index","3"],[1,"relative","z-10","p-4"],["class","flex flex-col sm:flex-row items-center gap-4",4,"ngIf"],["class","my-10 flex flex-col sm:flex-row justify-between items-center gap-4 w-full",4,"ngIf"],[1,"flex","flex-col","gap-4",3,"ngSubmit","formGroup"],["class","flex flex-col gap-4",4,"ngIf"],[4,"ngIf"],["class","flex flex-col md:flex-row gap-6",4,"ngIf"],[1,"flex","gap-4","items-center"],["type","submit","class","general-btn bg-[#00AEEF] text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",3,"disabled",4,"ngIf"],["class","need-call-btn",3,"disabled","click",4,"ngIf"],[1,"flex","flex-col","sm:flex-row","items-center","gap-4"],[1,"w-[78px]","h-[78px]","sm:w-[64px]","sm:h-[64px]","md:w-[78px]","md:h-[78px]"],["src","assets/ai/ai-avatar.jpg",1,"w-full","h-full","object-cover","rounded-full",3,"alt"],[1,"flex","flex-col","gap-2",3,"ngClass"],[1,"text-[#000]","font-Alexandria","text-[16px]","sm:text-[18px]","md:text-[20px]","font-normal","leading-[24px]","sm:leading-[30px]"],[1,"text-[#F00]","font-Alexandria","text-[16px]","sm:text-[18px]","md:text-[20px]","font-medium","leading-[24px]","sm:leading-[30px]"],[1,"my-10","flex","flex-col","sm:flex-row","justify-between","items-center","gap-4","w-full"],[1,"w-full","sm:flex-1","h-[20px]","md:h-[23px]","bg-[#EDF9FF]","rounded-full","overflow-hidden"],[1,"h-full","bg-[#00AEEF]","rounded-full","transition-all","duration-300"],[1,"text-[#37A6DE]","text-center","sm:text-right","font-Alexandria","text-[16px]","sm:text-[18px]","font-normal","leading-6","sm:leading-[30px]","whitespace-nowrap",3,"ngClass"],[1,"flex","flex-col","gap-4"],[1,"flex","flex-col","mb-[15px]","capitalize"],[1,"text-[#3C3C3C]","font-Alexandria","mb-4","text-[16px]","font-[400]","leading-5"],[1,"text-[#3C3C3C]","font-bold","font-Alexandria","mb-4","text-[18px]","leading-5"],[1,"text-[#000]","font-Alexandria","text-[16px]","leading-5"],[1,"flex","flex-col"],["formControlName","name","type","text",1,"general-input","w-full","border","border-gray-300","rounded-lg","px-4","py-3","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"input","paste","ngClass","placeholder"],[1,"error-container","flex","justify-between"],[1,"error-message",3,"ngClass"],["formControlName","phone","type","tel",1,"general-input","w-full","border","border-gray-300","rounded-lg","px-4","py-3","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"paste","keydown","ngClass","placeholder"],["formControlName","email","type","email",1,"general-input","w-full","border","border-gray-300","rounded-lg","px-4","py-3","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"paste","ngClass","placeholder"],[1,"flex","flex-wrap","gap-4"],["class","flex items-center text-lg md:text-[18px] px-12 py-4 border border-gray-400 rounded-[15px] cursor-pointer transition",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","items-center","text-lg","md:text-[18px]","px-12","py-4","border","border-gray-400","rounded-[15px]","cursor-pointer","transition",3,"ngClass"],["type","radio","name","buildType","formControlName","buildType",1,"hidden",3,"change","value"],[1,"w-6","h-6","me-2","rounded-full","border-1","flex","items-center","justify-center",3,"ngClass"],["class","w-3 h-3 bg-blue-500 rounded-full",4,"ngIf"],[1,"w-3","h-3","bg-blue-500","rounded-full"],[1,"flex","flex-col","mb-2"],[3,"selected","focused","governorates","displayProperty","valueProperty","placeholder","showError"],[1,"text-[#3C3C3C]","font-Alexandria","text-[18px]","font-[400]","leading-5"],[1,"text-[#000]","font-Alexandria","text-[23px]","font-[400]","leading-5"],["formControlName","buildingValue","type","number",1,"general-input","w-full","border","border-gray-300","rounded-lg","px-4","py-3","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"paste","keydown","ngClass","placeholder","min"],[1,"flex","flex-col","gap-6"],["class","text-red-500 text-sm",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"text-red-500","text-sm"],[1,"flex","flex-wrap","gap-4","justify-center"],["class","w-full max-w-md p-4 sm:p-6 min-w-[280px]",4,"ngFor","ngForOf"],[1,"w-full","max-w-md","p-4","sm:p-6","min-w-[280px]"],[1,"animate-pulse"],[1,"h-12","bg-gray-200","rounded-2xl","mb-4"],[1,"h-8","bg-gray-200","rounded","mb-4"],[1,"space-y-3"],["class","flex items-center",4,"ngFor","ngForOf"],[1,"h-10","bg-gray-200","rounded","mt-6"],[1,"flex","items-center"],[1,"w-4","h-4","bg-gray-200","rounded-sm","me-3"],[1,"h-4","bg-gray-200","rounded","w-3/4"],[1,"flex","max-w-[300px]","justify-start"],[1,"need-call-btn",3,"click","disabled"],["style","height: auto",3,"class",4,"ngFor","ngForOf"],[2,"height","auto"],[1,"absolute","z-10","w-10","h-12","rounded-full","top-1/2","-left-0","transform","-translate-x-1/2","-translate-y-1/2","bg-white","[box-shadow:inset_-4px_0_4px_-2px_rgba(0,0,0,0.2)]","hidden","sm:block"],[1,"absolute","z-10","w-10","h-12","rounded-full","top-1/2","-right-0","transform","translate-x-1/2","-translate-y-1/2","bg-white","[box-shadow:inset_4px_0_4px_-2px_rgba(0,0,0,0.2)]","hidden","sm:block"],[1,"flex","flex-col","sm:flex-row","sm:justify-between","sm:items-center","mb-4"],[1,"text-[#5db5df]","text-base","capitalize"],[1,"text-xl","sm:text-2xl","font-bold","text-black","mb-4"],[1,"space-y-3","mb-6"],[1,"flex","items-center","justify-between"],["src","plan.svg","alt","",1,"w-4","h-4"],[1,"text-sm","sm:text-base","text-black","capitalize"],[1,"text-red-600","text-xs","text-right"],["class","flex items-center justify-between",4,"ngFor","ngForOf"],[1,"cursor-pointer","select-policy-btn","w-full","sm:w-auto","mt-auto",3,"click"],["target","_blank",1,"text-red-600","underline",3,"href"],["class","w-12 h-12 inline-block",3,"src","alt",4,"ngIf"],[1,"w-12","h-12","inline-block",3,"src","alt"],[1,"text-gray-600","text-xs","text-right"],[1,"plans","mx-auto","w-full","max-w-[calc(3*448px+2*1rem)]"],[1,"bg-red-50",3,"options"],[4,"ngFor","ngForOf"],["carouselSlide","",3,"id"],[1,"flex","flex-col","md:flex-row","gap-6"],[1,"w-full","md:w-1/2"],["style","height: auto",3,"class",4,"ngIf"],[1,"w-full","md:w-1/2","flex","flex-col","gap-4"],[1,"text-[#000]","font-Alexandria","text-[23px]","font-[400]","leading-5","mb-4"],[1,"max-w-[300px]"],["type","radio","name","paymentType","value","Full Payment","formControlName","paymentType",1,"hidden"],[1,"w-3.5","h-3.5","me-2","rounded-full","border-2","flex","items-center","justify-center",3,"ngClass"],["class","w-2 h-2 bg-blue-500 rounded-full",4,"ngIf"],["type","radio","name","paymentMethod","value","Cash","formControlName","paymentMethod",1,"hidden"],[1,"flex","gap-4","items-center","justify-between"],[1,"general-btn","bg-[#37a6de]","text-white","py-2","px-4","rounded-lg","hover:bg-blue-700","transition-colors",3,"click","disabled"],[1,"w-2","h-2","bg-blue-500","rounded-full"],["type","submit",1,"general-btn","bg-[#00AEEF]","text-white","py-2","px-4","rounded-lg","hover:bg-blue-700","transition-colors",3,"disabled"]],template:function(e,i){e&1&&(r(0,"div",2),f(1,"img",3),d(2,"translate"),f(3,"div",4),r(4,"div",5),g(5,gt,11,12,"div",6)(6,ft,5,6,"div",7),r(7,"form",8),b("ngSubmit",function(){return i.nextStep()}),g(8,Ct,27,33,"div",9)(9,wt,15,11,"div",9)(10,Et,16,17,"div",9)(11,Pt,12,15,"div",9)(12,ri,6,3,"ng-container",10)(13,vi,38,45,"div",11),r(14,"div",12),g(15,hi,4,6,"button",13)(16,yi,4,6,"button",14),l()()()()),e&2&&(n(),G("alt",u(2,12,"pages.building_policy.background_image_alt")),n(4),p("ngIf",i.step<4),n(),p("ngIf",i.step<4),n(),p("formGroup",i.claimForm),n(),p("ngIf",i.step===0),n(),p("ngIf",i.step===1),n(),p("ngIf",i.step===2),n(),p("ngIf",i.step===3),n(),p("ngIf",i.step===4&&i.showPlans),n(),p("ngIf",i.step===5),n(2),p("ngIf",i.step<4),n(),p("ngIf",i.step>=1&&i.step<4))},dependencies:[ee,Q,me,X,ae,he,fe,ye,be,xe,ve,Fe,Ce,Se,We,ne,ge,_e,oe,le,Ee],encapsulation:2})};var rt=t=>({"sm:text-left":t}),K=(t,a)=>({"text-right":t,"text-left":a}),$=t=>({"order-2":t}),je=t=>({"border-blue-500 text-blue-500":t}),Oe=(t,a)=>({"border-blue-500":t,"border-gray-400":a}),bi=()=>[1,2,3],Ci=()=>[1,2,3,4,5,6,7];function Si(t,a){if(t&1&&(r(0,"div",15)(1,"div",16),f(2,"img",17),d(3,"translate"),l(),r(4,"div",18)(5,"p",19),s(6),d(7,"translate"),l(),r(8,"p",20),s(9),d(10,"translate"),l()()()),t&2){let e=c();n(2),G("alt",u(3,4,"pages.building_policy.ai_avatar_alt")),n(2),p("ngClass",S(10,rt,e.translate.currentLang==="en")),n(2),_(" ",u(7,6,"pages.building_policy.ai_greeting")," "),n(3),_(" ",u(10,8,"pages.building_policy.ai_subtext")," ")}}function Fi(t,a){if(t&1&&(r(0,"div",21)(1,"div",22),f(2,"div",23),l(),r(3,"p",24),s(4),l()()),t&2){let e=c();n(2),Z("width",e.progress,"%"),n(),p("ngClass",S(4,rt,e.translate.currentLang==="en")),n(),_(" ",e.steps[e.step][e.translate.currentLang==="ar"?"ar_title":"en_title"]," ")}}function Ii(t,a){if(t&1&&(r(0,"span",33),s(1),d(2,"translate"),l()),t&2){let e=c(2);p("ngClass",S(4,$,e.translate.currentLang==="ar")),n(),v(u(2,2,"pages.building_policy.form.personal_information.errors.name_required"))}}function wi(t,a){if(t&1&&(r(0,"span",33),s(1),d(2,"translate"),l()),t&2){let e=c(2);p("ngClass",S(4,$,e.translate.currentLang==="ar")),n(),v(u(2,2,"pages.building_policy.form.personal_information.errors.phone_required"))}}function Bi(t,a){if(t&1&&(r(0,"span",33),s(1),d(2,"translate"),l()),t&2){let e=c(3);p("ngClass",S(4,$,e.translate.currentLang==="ar")),n(),v(u(2,2,"pages.building_policy.form.personal_information.errors.email_required"))}}function Ei(t,a){if(t&1&&(r(0,"span",33),s(1),d(2,"translate"),l()),t&2){let e=c(3);p("ngClass",S(4,$,e.translate.currentLang==="ar")),n(),v(u(2,2,"pages.building_policy.form.personal_information.errors.email_invalid"))}}function Ti(t,a){if(t&1&&g(0,Bi,3,6,"span",33)(1,Ei,3,6,"span",33),t&2){let e,i=c(2);T((e=i.claimForm.get("email"))!=null&&e.hasError("required")?0:(e=i.claimForm.get("email"))!=null&&e.hasError("email")||(e=i.claimForm.get("email"))!=null&&e.hasError("pattern")?1:-1)}}function Li(t,a){if(t&1){let e=B();r(0,"div",25)(1,"div",26)(2,"div",27),s(3),d(4,"translate"),l(),r(5,"div",28),s(6),d(7,"translate"),l(),r(8,"div",29),s(9),d(10,"translate"),l()(),r(11,"div",30)(12,"div",30)(13,"input",31),d(14,"translate"),b("input",function(o){h(e);let m=c();return y(m.restrictToLetters(o))})("paste",function(o){h(e);let m=c();return y(m.preventPaste(o))}),l(),r(15,"div",32),g(16,Ii,3,6,"span",33),l()(),r(17,"div",30)(18,"input",34),d(19,"translate"),b("paste",function(o){h(e);let m=c();return y(m.preventPaste(o))})("keydown",function(o){h(e);let m=c();return y(m.preventNonNumeric(o))}),l(),r(20,"div",32),g(21,wi,3,6,"span",33),l()(),r(22,"div",30)(23,"input",35),d(24,"translate"),b("paste",function(o){h(e);let m=c();return y(m.preventPaste(o))}),l(),r(25,"div",32),g(26,Ti,2,1),l()()()()}if(t&2){let e,i,o,m=c();n(3),_(" ",u(4,12,"pages.building_policy.form.personal_information.prompt_0")," "),n(3),_(" ",u(7,14,"pages.building_policy.form.personal_information.prompt_1")," "),n(3),_(" ",u(10,16,"pages.building_policy.form.personal_information.prompt_2")," "),n(4),p("ngClass",L(24,K,m.translate.currentLang==="ar",m.translate.currentLang==="en"))("placeholder",u(14,18,"pages.building_policy.form.personal_information.name_placeholder")),n(3),T((e=m.claimForm.get("name"))!=null&&e.touched&&((e=m.claimForm.get("name"))!=null&&e.invalid)?16:-1),n(2),p("ngClass",L(27,K,m.translate.currentLang==="ar",m.translate.currentLang==="en"))("placeholder",u(19,20,"pages.building_policy.form.personal_information.phone_placeholder")),n(3),T((i=m.claimForm.get("phone"))!=null&&i.touched&&((i=m.claimForm.get("phone"))!=null&&i.invalid)?21:-1),n(2),p("ngClass",L(30,K,m.translate.currentLang==="ar",m.translate.currentLang==="en"))("placeholder",u(24,22,"pages.building_policy.form.personal_information.email_placeholder")),n(3),T((o=m.claimForm.get("email"))!=null&&o.touched&&((o=m.claimForm.get("email"))!=null&&o.invalid)?26:-1)}}function Vi(t,a){if(t&1&&(r(0,"span",33),s(1),d(2,"translate"),l()),t&2){let e=c(3);p("ngClass",S(4,$,e.translate.currentLang==="ar")),n(),v(u(2,2,"pages.professional_indemnity.form.company.name.errors.name_required"))}}function Pi(t,a){if(t&1&&g(0,Vi,3,6,"span",33),t&2){let e,i=c(2);T((e=i.claimForm.get("company_name"))!=null&&e.hasError("required")?0:-1)}}function ki(t,a){if(t&1){let e=B();r(0,"div",25)(1,"div",26)(2,"div",27),s(3),d(4,"translate"),l(),r(5,"div",28),s(6),d(7,"translate"),l()(),r(8,"div",36)(9,"input",37),d(10,"translate"),b("paste",function(o){h(e);let m=c();return y(m.preventPaste(o))}),l(),r(11,"div",32),g(12,Pi,1,1),l()()()}if(t&2){let e,i=c();n(3),_(" ",u(4,5,"pages.professional_indemnity.form.company.name.prompt_0")," "),n(3),_(" ",u(7,7,"pages.professional_indemnity.form.company.name.prompt_1")," "),n(3),p("ngClass",L(11,K,i.translate.currentLang==="ar",i.translate.currentLang==="en"))("placeholder",u(10,9,"pages.professional_indemnity.form.company.name.placeholder")),n(3),T((e=i.claimForm.get("company_name"))!=null&&e.touched&&((e=i.claimForm.get("company_name"))!=null&&e.invalid)?12:-1)}}function Di(t,a){if(t&1&&(r(0,"span",33),s(1),d(2,"translate"),l()),t&2){let e=c(3);p("ngClass",S(4,$,e.translate.currentLang==="ar")),n(),v(u(2,2,"pages.professional_indemnity.form.company.address.errors.address_required"))}}function Ni(t,a){if(t&1&&g(0,Di,3,6,"span",33),t&2){let e,i=c(2);T((e=i.claimForm.get("company_address"))!=null&&e.hasError("required")?0:-1)}}function Ai(t,a){if(t&1){let e=B();r(0,"div",25)(1,"div",26)(2,"div",27),s(3),d(4,"translate"),l(),r(5,"div",28),s(6),d(7,"translate"),l()(),r(8,"div",36)(9,"input",38),d(10,"translate"),b("paste",function(o){h(e);let m=c();return y(m.preventPaste(o))}),l(),r(11,"div",32),g(12,Ni,1,1),l()()()}if(t&2){let e,i=c();n(3),_(" ",u(4,5,"pages.professional_indemnity.form.company.address.prompt_0")," "),n(3),_(" ",u(7,7,"pages.professional_indemnity.form.company.address.prompt_1")," "),n(3),p("ngClass",L(11,K,i.translate.currentLang==="ar",i.translate.currentLang==="en"))("placeholder",u(10,9,"pages.professional_indemnity.form.company.address.placeholder")),n(3),T((e=i.claimForm.get("company_address"))!=null&&e.touched&&((e=i.claimForm.get("company_address"))!=null&&e.invalid)?12:-1)}}function ji(t,a){t&1&&f(0,"span",45)}function Oi(t,a){if(t&1){let e=B();r(0,"label",41)(1,"input",42),b("change",function(){let o=h(e).$implicit,m=c(2);return y(m.onBuildTypeSelected(o))}),l(),r(2,"span",43),g(3,ji,1,0,"span",44),l(),s(4),d(5,"customTranslate"),l()}if(t&2){let e,i,o,m=a.$implicit,x=c(2);p("ngClass",S(8,je,((e=x.claimForm.get("buildType"))==null?null:e.value)===m.id)),n(),p("value",m.id),n(),p("ngClass",L(10,Oe,((i=x.claimForm.get("buildType"))==null?null:i.value)===m.id,((i=x.claimForm.get("buildType"))==null?null:i.value)!==m.id)),n(),p("ngIf",((o=x.claimForm.get("buildType"))==null?null:o.value)===m.id),n(),_(" ",I(5,5,m,"name")," ")}}function Ui(t,a){if(t&1&&(r(0,"span",33),s(1),d(2,"translate"),l()),t&2){let e=c(2);p("ngClass",S(4,$,e.translate.currentLang==="ar")),n(),v(u(2,2,"pages.building_policy.form.build_type.errors.build_type_required"))}}function Mi(t,a){if(t&1&&(r(0,"div",25)(1,"div",26)(2,"div",27),s(3),d(4,"translate"),l(),r(5,"div",28),s(6),d(7,"translate"),l(),r(8,"div",29),s(9),d(10,"translate"),l()(),r(11,"div",39),g(12,Oi,6,13,"label",40),l(),r(13,"div",32),g(14,Ui,3,6,"span",33),l()()),t&2){let e,i=c();n(3),_(" ",u(4,5,"pages.building_policy.form.build_type.prompt_0")," "),n(3),_(" ",u(7,7,"pages.building_policy.form.build_type.prompt_1")," "),n(3),_(" ",u(10,9,"pages.building_policy.form.build_type.prompt_2")," "),n(3),p("ngForOf",i.buildTypes),n(2),T((e=i.claimForm.get("buildType"))!=null&&e.touched&&((e=i.claimForm.get("buildType"))!=null&&e.invalid)?14:-1)}}function $i(t,a){if(t&1&&(r(0,"span",33),s(1),d(2,"translate"),l()),t&2){let e=c(3);p("ngClass",S(4,$,e.translate.currentLang==="ar")),n(),v(u(2,2,"pages.building_policy.form.company.building_number.errors.building_number_required"))}}function qi(t,a){if(t&1&&(r(0,"span",33),s(1),d(2,"translate"),l()),t&2){let e=c(3);p("ngClass",S(4,$,e.translate.currentLang==="ar")),n(),v(u(2,2,"pages.building_policy.form.company.building_number.errors.building_number_min"))}}function Gi(t,a){if(t&1&&g(0,$i,3,6,"span",33)(1,qi,3,6,"span",33),t&2){let e,i=c(2);T((e=i.claimForm.get("company_building_number"))!=null&&e.hasError("required")?0:(e=i.claimForm.get("company_building_number"))!=null&&e.hasError("min")?1:-1)}}function Ri(t,a){if(t&1){let e=B();r(0,"div",25)(1,"div",46),s(2),d(3,"translate"),l(),r(4,"div",47),s(5),d(6,"translate"),l(),r(7,"div",36)(8,"input",48),d(9,"translate"),b("paste",function(o){h(e);let m=c();return y(m.preventPaste(o))})("keydown",function(o){h(e);let m=c();return y(m.preventNonNumeric(o))}),l(),r(10,"div",32),g(11,Gi,2,1),l()()()}if(t&2){let e,i=c();n(2),_(" ",u(3,6,"pages.building_policy.form.company.building_number.prompt_0")," "),n(3),_(" ",u(6,8,"pages.building_policy.form.company.building_number.prompt_1")," "),n(3),p("ngClass",L(12,K,i.translate.currentLang==="ar",i.translate.currentLang==="en"))("placeholder",u(9,10,"pages.building_policy.form.company.building_number.placeholder"))("min",1),n(3),T((e=i.claimForm.get("company_building_number"))!=null&&e.touched&&((e=i.claimForm.get("company_building_number"))!=null&&e.invalid)?11:-1)}}function zi(t,a){if(t&1&&(r(0,"span",33),s(1),d(2,"translate"),l()),t&2){let e=c(3);p("ngClass",S(4,$,e.translate.currentLang==="ar")),n(),v(u(2,2,"pages.building_policy.form.company.unit_price.errors.unit_prices_required"))}}function Ki(t,a){if(t&1&&g(0,zi,3,6,"span",33),t&2){let e,i=c(2);T((e=i.claimForm.get("company_building_total_money"))!=null&&e.hasError("required")?0:-1)}}function Hi(t,a){if(t&1){let e=B();r(0,"div",25)(1,"div",46),s(2),d(3,"translate"),l(),r(4,"div",47),s(5),d(6,"translate"),l(),r(7,"div",36)(8,"input",49),d(9,"translate"),b("paste",function(o){h(e);let m=c();return y(m.preventPaste(o))})("keydown",function(o){h(e);let m=c();return y(m.preventNonNumeric(o))}),l(),r(10,"div",32),g(11,Ki,1,1),l()()()}if(t&2){let e,i=c();n(2),_(" ",u(3,5,"pages.building_policy.form.company.unit_price.prompt_0")," "),n(3),_(" ",u(6,7,"pages.building_policy.form.company.unit_price.prompt_1")," "),n(3),p("ngClass",L(11,K,i.translate.currentLang==="ar",i.translate.currentLang==="en"))("placeholder",u(9,9,"pages.building_policy.form.company.unit_price.placeholder")),n(3),T((e=i.claimForm.get("company_building_total_money"))!=null&&e.touched&&((e=i.claimForm.get("company_building_total_money"))!=null&&e.invalid)?11:-1)}}function Wi(t,a){t&1&&(r(0,"div",53),s(1),d(2,"translate"),l()),t&2&&(n(),_(" ",u(2,1,"pages.building_policy.form.select_plan.no_plans")," "))}function Zi(t,a){t&1&&(r(0,"div",63),f(1,"div",64)(2,"div",65),l())}function Yi(t,a){t&1&&(r(0,"div",56)(1,"div",57),f(2,"div",58)(3,"div",59),r(4,"div",60),g(5,Zi,3,0,"div",61),l(),f(6,"div",62),l()()),t&2&&(n(5),p("ngForOf",Y(1,Ci)))}function Ji(t,a){t&1&&(k(0),r(1,"div",54),g(2,Yi,7,2,"div",55),l(),D()),t&2&&(n(2),p("ngForOf",Y(1,bi)))}function Qi(t,a){if(t&1&&(f(0,"img",84),d(1,"customTranslate")),t&2){let e=c(3).$implicit;p("src",e.en_description,A)("alt",I(1,2,e,"title"))}}function Xi(t,a){t&1&&(r(0,"span"),s(1,"Link"),l())}function en(t,a){if(t&1&&(r(0,"span")(1,"a",82),g(2,Qi,2,5,"img",83)(3,Xi,2,0,"span",10),l()()),t&2){let e=c(2).$implicit;n(),p("href",e.en_description,A),n(),p("ngIf",e.en_description.includes(".png")||e.en_description.includes(".jpg")),n(),p("ngIf",!e.en_description.includes(".png")&&!e.en_description.includes(".jpg"))}}function tn(t,a){if(t&1&&(r(0,"span"),s(1),l()),t&2){let e=c(2).$implicit;n(),_(" ",e.en_description," EGP ")}}function nn(t,a){if(t&1&&(r(0,"span"),s(1),d(2,"customTranslate"),l()),t&2){let e=c(2).$implicit;n(),_(" ",I(2,1,e,"description")," ")}}function an(t,a){if(t&1&&(k(0),r(1,"span",79),g(2,en,4,3,"span",10)(3,tn,2,1,"span",10)(4,nn,3,4,"span",10),l(),D()),t&2){let e=c().$implicit,i=c(5);n(2),p("ngIf",i.isValidUrl(e.en_description)),n(),p("ngIf",!i.isValidUrl(e.en_description)&&i.isNumber(e.en_description)),n(),p("ngIf",!i.isValidUrl(e.en_description)&&!i.isNumber(e.en_description))}}function rn(t,a){t&1&&(r(0,"span",85),s(1,"Not found"),l())}function ln(t,a){if(t&1&&(r(0,"li",76)(1,"div",63),f(2,"img",77),r(3,"span",78),s(4),d(5,"customTranslate"),l()(),g(6,an,5,3,"ng-container",52)(7,rn,2,0,"ng-template",null,1,M),l()),t&2){let e=a.$implicit,i=U(8);n(4),v(I(5,3,e,"title")),n(2),p("ngIf",e.en_description!=="not found"&&e.en_description)("ngIfElse",i)}}function on(t,a){if(t&1){let e=B();r(0,"div",69)(1,"div"),f(2,"div",70)(3,"div",71),r(4,"div",72)(5,"span",73),s(6),d(7,"customTranslate"),l(),r(8,"button"),s(9),d(10,"translate"),l()(),r(11,"div",74),s(12),l(),r(13,"ul",75)(14,"li",76)(15,"div",63),f(16,"img",77),r(17,"span",78),s(18),d(19,"translate"),l()(),r(20,"span",79),s(21),l()(),r(22,"li",76)(23,"div",63),f(24,"img",77),r(25,"span",78),s(26),d(27,"translate"),l()(),r(28,"span",79),s(29),l()(),g(30,ln,9,6,"li",80),l()(),r(31,"button",81),b("click",function(){let o=h(e).$implicit,m=c(4);return y(m.onPlanSelected(o))}),s(32),d(33,"translate"),l()()}if(t&2){let e=a.$implicit,i=a.index;j("relative w-full max-w-md mx-auto p-4 shadow-lg rounded-2xl font-Alexandria sm:p-6 ",i===0?"basic":i===1?"standard":"premium"," min-w-[280px] lg:w-[calc(33.33%-1rem)] animate-[fadeIn_0.5s_ease-in-out_0.3s_both] flex flex-col justify-between"),n(6),v(I(7,15,e,"title")),n(2),j("",i===0?"basic-btn":i===1?"standard-btn":"premium-btn"," basic-btn-text"),n(),_(" ",u(10,18,"pages.medical_policy.form.select_plan.in_year")," "),n(3),_(" ",e.year_money," EGP "),n(6),v(u(19,20,"pages.medical_policy.form.select_plan.company")),n(3),v(e.company_name),n(5),v(u(27,22,"pages.medical_policy.form.select_plan.yearly")),n(3),_("",e.month_money," EGP"),n(),p("ngForOf",e.buildingchoices),n(2),_(" ",u(33,24,"pages.medical_policy.form.select_plan.select_plan_button")," ")}}function pn(t,a){if(t&1&&(k(0),g(1,on,34,26,"div",68),D()),t&2){let e=c(3);n(),p("ngForOf",e.plans)}}function sn(t,a){if(t&1&&(f(0,"img",84),d(1,"customTranslate")),t&2){let e=c(3).$implicit;p("src",e.en_description,A)("alt",I(1,2,e,"title"))}}function dn(t,a){t&1&&(r(0,"span"),s(1,"Link"),l())}function cn(t,a){if(t&1&&(r(0,"span")(1,"a",82),g(2,sn,2,5,"img",83)(3,dn,2,0,"span",10),l()()),t&2){let e=c(2).$implicit;n(),p("href",e.en_description,A),n(),p("ngIf",e.en_description.includes(".png")||e.en_description.includes(".jpg")),n(),p("ngIf",!e.en_description.includes(".png")&&!e.en_description.includes(".jpg"))}}function mn(t,a){if(t&1&&(r(0,"span"),s(1),l()),t&2){let e=c(2).$implicit;n(),_(" ",e.en_description," EGP ")}}function un(t,a){if(t&1&&(r(0,"span"),s(1),d(2,"customTranslate"),l()),t&2){let e=c(2).$implicit;n(),_(" ",I(2,1,e,"description")," ")}}function _n(t,a){if(t&1&&(k(0),r(1,"span",79),g(2,cn,4,3,"span",10)(3,mn,2,1,"span",10)(4,un,3,4,"span",10),l(),D()),t&2){let e=c().$implicit,i=c(6);n(2),p("ngIf",i.isValidUrl(e.en_description)),n(),p("ngIf",!i.isValidUrl(e.en_description)&&i.isNumber(e.en_description)),n(),p("ngIf",!i.isValidUrl(e.en_description)&&!i.isNumber(e.en_description))}}function gn(t,a){t&1&&(r(0,"span",85),s(1,"Not found"),l())}function fn(t,a){if(t&1&&(r(0,"li",76)(1,"div",63),f(2,"img",77),r(3,"span",78),s(4),d(5,"customTranslate"),l()(),g(6,_n,5,3,"ng-container",52)(7,gn,2,0,"ng-template",null,1,M),l()),t&2){let e=a.$implicit,i=U(8);n(4),v(I(5,3,e,"title")),n(2),p("ngIf",e.en_description!=="not found"&&e.en_description)("ngIfElse",i)}}function xn(t,a){if(t&1){let e=B();r(0,"div",69)(1,"div"),f(2,"div",70)(3,"div",71),r(4,"div",72)(5,"span",73),s(6),d(7,"customTranslate"),l(),r(8,"button"),s(9),d(10,"translate"),l()(),r(11,"div",74),s(12),l(),r(13,"ul",75)(14,"li",76)(15,"div",63),f(16,"img",77),r(17,"span",78),s(18),d(19,"translate"),l()(),r(20,"span",79),s(21),l()(),r(22,"li",76)(23,"div",63),f(24,"img",77),r(25,"span",78),s(26),d(27,"translate"),l()(),r(28,"span",79),s(29),l()(),g(30,fn,9,6,"li",80),l()(),r(31,"button",81),b("click",function(){h(e);let o=c().$implicit,m=c(4);return y(m.onPlanSelected(o))}),s(32),d(33,"translate"),l()()}if(t&2){let e=c(),i=e.$implicit,o=e.index;j("relative flex w-full max-w-md mx-auto p-4 shadow-lg rounded-2xl font-Alexandria sm:p-6 ",o===0?"basic":o===1?"standard":"premium"," min-w-[280px] animate-[fadeIn_0.5s_ease-in-out_0.3s_both] flex flex-col justify-between min-h-[500px]"),n(6),v(I(7,15,i,"title")),n(2),j("",o===0?"basic-btn":o===1?"standard-btn":"premium-btn"," basic-btn-text"),n(),_(" ",u(10,18,"pages.motor_policy.form.select_plan.in_year")," "),n(3),_(" ",i.year_money," EGP "),n(6),v(u(19,20,"pages.motor_policy.form.select_plan.company")),n(3),v(i.company_name),n(5),v(u(27,22,"pages.motor_policy.form.select_plan.yearly")),n(3),_("",i.month_money," EGP"),n(),p("ngForOf",i.buildingchoices),n(2),_(" ",u(33,24,"pages.motor_policy.form.select_plan.select_plan_button")," ")}}function vn(t,a){if(t&1&&(k(0),g(1,xn,34,26,"ng-template",89),D()),t&2){let e=a.$implicit;n(),p("id",e.id.toString())}}function hn(t,a){if(t&1&&(k(0),r(1,"div",86)(2,"owl-carousel-o",87),g(3,vn,2,1,"ng-container",88),l()(),D()),t&2){let e=c(3);n(2),p("options",e.customOptions),n(),p("ngForOf",e.plans)}}function yn(t,a){if(t&1){let e=B();r(0,"div",54),g(1,pn,2,1,"ng-container",10)(2,hn,4,2,"ng-container",10),l(),r(3,"div",66)(4,"button",67),b("click",function(){h(e);let o=c(2);return y(o.needCall())}),s(5),d(6,"translate"),d(7,"translate"),l()()}if(t&2){let e=c(2);n(),p("ngIf",e.plans.length<=3&&e.plans.length>0),n(),p("ngIf",e.plans.length>3),n(2),p("disabled",e.isNeedCallLoading),n(),_(" ",e.isNeedCallLoading?u(6,4,"pages.motor_policy.form.personal_information.loading"):u(7,6,"pages.motor_policy.form.car_price.need_call_button")," ")}}function bn(t,a){if(t&1&&(k(0),r(1,"div",50),g(2,Wi,3,3,"div",51)(3,Ji,3,2,"ng-container",52)(4,yn,8,8,"ng-template",null,0,M),l(),D()),t&2){let e=U(5),i=c();n(2),p("ngIf",i.plans.length===0),n(),p("ngIf",i.isLoading)("ngIfElse",e)}}function Cn(t,a){if(t&1&&(f(0,"img",84),d(1,"customTranslate")),t&2){let e=c(3).$implicit;p("src",e.en_description,A)("alt",I(1,2,e,"title"))}}function Sn(t,a){t&1&&(r(0,"span"),s(1,"Link"),l())}function Fn(t,a){if(t&1&&(r(0,"span")(1,"a",82),g(2,Cn,2,5,"img",83)(3,Sn,2,0,"span",10),l()()),t&2){let e=c(2).$implicit;n(),p("href",e.en_description,A),n(),p("ngIf",e.en_description.includes(".png")||e.en_description.includes(".jpg")),n(),p("ngIf",!e.en_description.includes(".png")&&!e.en_description.includes(".jpg"))}}function In(t,a){if(t&1&&(r(0,"span"),s(1),l()),t&2){let e=c(2).$implicit;n(),_(" ",e.en_description," EGP ")}}function wn(t,a){if(t&1&&(r(0,"span"),s(1),d(2,"customTranslate"),l()),t&2){let e=c(2).$implicit;n(),_(" ",I(2,1,e,"description")," ")}}function Bn(t,a){if(t&1&&(k(0),r(1,"span",79),g(2,Fn,4,3,"span",10)(3,In,2,1,"span",10)(4,wn,3,4,"span",10),l(),D()),t&2){let e=c().$implicit,i=c(3);n(2),p("ngIf",i.isValidUrl(e.en_description)),n(),p("ngIf",!i.isValidUrl(e.en_description)&&i.isNumber(e.en_description)),n(),p("ngIf",!i.isValidUrl(e.en_description)&&!i.isNumber(e.en_description))}}function En(t,a){t&1&&(r(0,"span",85),s(1,"Not found"),l())}function Tn(t,a){if(t&1&&(r(0,"li",76)(1,"div",63),f(2,"img",77),r(3,"span",78),s(4),d(5,"customTranslate"),l()(),g(6,Bn,5,3,"ng-container",52)(7,En,2,0,"ng-template",null,1,M),l()),t&2){let e=a.$implicit,i=U(8);n(4),v(I(5,3,e,"title")),n(2),p("ngIf",e.en_description!=="not found"&&e.en_description)("ngIfElse",i)}}function Ln(t,a){if(t&1&&(r(0,"div",69),f(1,"div",70)(2,"div",71),r(3,"div",72)(4,"span",73),s(5),d(6,"customTranslate"),l(),r(7,"button"),s(8),d(9,"translate"),l()(),r(10,"div",74),s(11),l(),r(12,"ul",75)(13,"li",76)(14,"div",63),f(15,"img",77),r(16,"span",78),s(17),d(18,"translate"),l()(),r(19,"span",79),s(20),l()(),r(21,"li",76)(22,"div",63),f(23,"img",77),r(24,"span",78),s(25),d(26,"translate"),l()(),r(27,"span",79),s(28),l()(),g(29,Tn,9,6,"li",80),l()()),t&2){let e=c(2);j("relative w-full max-w-md mx-auto p-4 shadow-lg rounded-2xl font-Alexandria sm:p-6 ",e.selectedPlan.id===e.plans[0].id?"basic":e.selectedPlan.id===e.plans[1].id?"standard":"premium"," animate-[fadeIn_0.5s_ease-in-out_0.3s_both]"),n(5),v(I(6,14,e.selectedPlan,"title")),n(2),j("",e.selectedPlan.id===e.plans[0].id?"basic-btn":e.selectedPlan.id===e.plans[1].id?"standard-btn":"premium-btn"," basic-btn-text"),n(),_(" ",u(9,17,"pages.building_policy.form.select_plan.in_year")," "),n(3),_(" ",e.selectedPlan.year_money," EGP "),n(6),v(u(18,19,"pages.building_policy.form.select_plan.company")),n(3),v(e.selectedPlan.company_name),n(5),v(u(26,21,"pages.building_policy.form.select_plan.yearly")),n(3),_("",e.selectedPlan.month_money," EGP"),n(),p("ngForOf",e.selectedPlan.buildingchoices)}}function Vn(t,a){t&1&&(r(0,"div",53),s(1),d(2,"translate"),l()),t&2&&(n(),_(" ",u(2,1,"pages.building_policy.form.payment.no_plan_selected")," "))}function Pn(t,a){t&1&&f(0,"span",102)}function kn(t,a){t&1&&f(0,"span",102)}function Dn(t,a){if(t&1){let e=B();r(0,"div",90)(1,"div",91),g(2,Ln,30,23,"div",92)(3,Vn,3,3,"div",51),l(),r(4,"div",93)(5,"div",46),s(6),d(7,"translate"),l(),r(8,"div",94),s(9),d(10,"translate"),l(),r(11,"div",25)(12,"div",95)(13,"label",41),f(14,"input",96),r(15,"span",97),g(16,Pn,1,0,"span",98),l(),s(17),d(18,"translate"),l()(),r(19,"div",46),s(20),d(21,"translate"),l(),r(22,"div")(23,"label",41),f(24,"input",99),r(25,"span",97),g(26,kn,1,0,"span",98),l(),s(27),d(28,"translate"),l()()(),r(29,"div",100)(30,"button",101),b("click",function(){h(e);let o=c();return y(o.pay())}),s(31),d(32,"translate"),d(33,"translate"),l(),r(34,"button",67),b("click",function(){h(e);let o=c();return y(o.needCall())}),s(35),d(36,"translate"),d(37,"translate"),l()()()()}if(t&2){let e,i,o,m,x,V,F=c();n(2),p("ngIf",F.selectedPlan),n(),p("ngIf",!F.selectedPlan),n(3),_(" ",u(7,17,"pages.building_policy.form.payment.payment_prompt_1")," "),n(3),_(" ",u(10,19,"pages.building_policy.form.payment.payment_prompt_2")," "),n(4),p("ngClass",S(35,je,((e=F.claimForm.get("paymentType"))==null?null:e.value)==="Full Payment")),n(2),p("ngClass",L(37,Oe,((i=F.claimForm.get("paymentType"))==null?null:i.value)==="Full Payment",((i=F.claimForm.get("paymentType"))==null?null:i.value)!=="Full Payment")),n(),p("ngIf",((o=F.claimForm.get("paymentType"))==null?null:o.value)==="Full Payment"),n(),_(" ",u(18,21,"pages.building_policy.form.payment.full_payment")," "),n(3),_(" ",u(21,23,"pages.building_policy.form.payment.payment_methods")," "),n(3),p("ngClass",S(40,je,((m=F.claimForm.get("paymentMethod"))==null?null:m.value)==="Cash")),n(2),p("ngClass",L(42,Oe,((x=F.claimForm.get("paymentMethod"))==null?null:x.value)==="Cash",((x=F.claimForm.get("paymentMethod"))==null?null:x.value)!=="Cash")),n(),p("ngIf",((V=F.claimForm.get("paymentMethod"))==null?null:V.value)==="Cash"),n(),_(" ",u(28,25,"pages.building_policy.form.payment.cash")," "),n(3),p("disabled",F.isLoading),n(),_(" ",F.isLoading?u(32,27,"pages.building_policy.form.personal_information.loading"):u(33,29,"pages.building_policy.form.payment.pay_button")," "),n(3),p("disabled",F.isNeedCallLoading),n(),_(" ",F.isNeedCallLoading?u(36,31,"pages.building_policy.form.personal_information.loading"):u(37,33,"pages.building_policy.form.building_value.need_call_button")," ")}}function Nn(t,a){if(t&1&&(r(0,"button",103),s(1),d(2,"translate"),d(3,"translate"),l()),t&2){let e=c();p("disabled",e.isLoading),n(),_(" ",e.isLoading?u(2,2,"pages.building_policy.form.personal_information.loading"):u(3,4,"pages.building_policy.form.next_button")," ")}}function An(t,a){if(t&1){let e=B();r(0,"button",67),b("click",function(){h(e);let o=c();return y(o.needCall())}),s(1),d(2,"translate"),d(3,"translate"),l()}if(t&2){let e=c();p("disabled",e.isNeedCallLoading),n(),_(" ",e.isNeedCallLoading?u(2,2,"pages.building_policy.form.personal_information.loading"):u(3,4,"pages.building_policy.form.building_value.need_call_button")," ")}}var Pe=class t{constructor(a,e,i,o,m,x,V,F,z,ke,ot){this.fb=a;this.authService=e;this.buildingInsuranceService=i;this.translate=o;this.languageService=m;this.alertService=x;this.router=V;this.authStorage=F;this.cdr=z;this.meta=ke;this.title=ot;this.claimForm=this.fb.group({name:["",w.required],phone:["",[w.required,w.pattern(/^01[0125]\d{8}$/)]],email:["",[w.required,w.email,w.pattern(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/)]],buildType:["",w.required],company_name:["",w.required],company_address:["",w.required],company_building_number:["",[w.required,w.min(1)]],company_building_total_money:["",[w.required]],paymentType:["Full Payment",w.required],paymentMethod:["Cash",w.required],needCall:["No"]}),this.languageSubscription=this.languageService.currentLanguage$.subscribe(q=>{this.cdr.markForCheck(),this.updateCarouselDirection(q),this.currentLanguage=q}),this.alertSubscription=this.alertService.showAlert$.subscribe(q=>{!q&&this.step===6&&(this.showPlans=!0)})}userDataStatus={name:!1,email:!1,phone:!1};claimForm;step=0;progress=16.67;selectedPlan=null;leadId=null;isLoading=!1;showPlans=!1;languageSubscription;alertSubscription;isTextContentLoading=!0;buildTypes=[];countries=[];plans=[];category=null;isNeedCallLoading=!1;steps=[{en_title:"Personal Information",ar_title:"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0634\u062E\u0635\u064A\u0629",formFields:["name","phone","email"]},{en_title:"company name",ar_title:"\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0647",formFields:["company_name"]},{en_title:"company location",ar_title:"\u0645\u0648\u0642\u0639 \u0627\u0644\u0634\u0631\u0643\u0647",formFields:["company_address"]},{en_title:"Building Type",ar_title:"\u0646\u0648\u0639 \u0627\u0644\u0645\u0628\u0646\u0649",formFields:["buildType"]},{en_title:"number of units",ar_title:"\u0639\u062F\u062F \u0627\u0644\u0648\u062D\u062F\u0627\u062A",formFields:["company_building_number"]},{en_title:"unit prices",ar_title:"\u0633\u0639\u0631 \u0627\u0644\u0648\u062D\u062F\u0627\u062A",formFields:["company_building_total_money"]},{en_title:"Select Plan",ar_title:"\u0627\u062E\u062A\u064A\u0627\u0631 \u0627\u0644\u062E\u0637\u0629",formFields:[]},{en_title:"Payment",ar_title:"\u0627\u0644\u062F\u0641\u0639",formFields:["paymentType","paymentMethod"]}];customOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,smartSpeed:700,navText:["<",">"],nav:!0,center:!0,autoplay:!0,margin:16,responsive:{0:{items:1,nav:!0},400:{items:1,nav:!0},600:{items:2,nav:!0},1e3:{items:3,nav:!0}}};currentLanguage="en";fillUserData(a){if(a){let{name:e,email:i,phone:o}=a;this.claimForm.patchValue({name:e,email:i,phone:o});let m=["name","email","phone"];this.userDataStatus={name:!!a.name,email:!!a.email,phone:!!a.phone},m.forEach(x=>{let V=this.claimForm.get(x);this.userDataStatus[x]&&V&&V.disable()})}}ngOnInit(){if(this.isTextContentLoading=!0,typeof window<"u"&&this.authService.isAuthenticated()){let a=this.authService.getUserData();this.fillUserData(a)}this.fetchPlans(),this.claimForm.get("company_building_number")?.valueChanges.subscribe(a=>{a&&Number(a)>0?this.fetchPlans(a):this.plans=[]})}fetchPlans(a){console.log(a),this.buildingInsuranceService.fetchBuildingData(a).pipe(E(e=>{this.category=e.category,console.log("category:",e);let i=this.translate.currentLang==="ar"?e.category.ar_meta_title:e.category.en_meta_title,o=this.translate.currentLang==="ar"?e.category.ar_meta_description:e.category.en_meta_description;this.title.setTitle(i),this.meta.updateTag({name:"description",content:o}),this.cdr.markForCheck(),this.plans=this.buildingInsuranceService.getActiveInsurances(),console.log("data types",e.types),this.buildTypes=e.types.map(x=>({id:x.id,name:x.en_title,code:x.en_title,en_name:x.en_title,ar_name:x.ar_title})).concat({id:5,name:"both",code:"both",en_name:"both",ar_name:"\u0643\u0644\u0627\u0647\u0645\u0627"});let m=this.buildTypes.find(x=>x.name==="both")?.id||null;this.claimForm.patchValue({buildType:m}),this.countries=e.countries.map(x=>({id:x.id,name:x.en_title,code:x.en_title,en_name:x.en_title,ar_name:x.ar_title})),this.isTextContentLoading=!1,this.cdr.markForCheck()}),P(e=>(console.error("Error fetching building data:",e),this.alertService.showNotification({translationKeys:{message:"pages.building_policy.errors.data_fetch_failed"}}),this.isTextContentLoading=!1,this.cdr.markForCheck(),N(null)))).subscribe()}ngOnDestroy(){this.languageSubscription&&this.languageSubscription.unsubscribe(),this.alertSubscription&&this.alertSubscription.unsubscribe()}updateCarouselDirection(a){let e=a==="ar";this.customOptions.rtl!==e&&(this.customOptions=H(O({},this.customOptions),{rtl:e,navText:e?["\u0627\u0644\u062A\u0627\u0644\u064A","\u0627\u0644\u0633\u0627\u0628\u0642"]:["Previous","Next"]}))}onBuildTypeSelected(a){if(this.claimForm.get("buildType")?.setValue(a?a.id:""),this.claimForm.get("buildType")?.markAsTouched(),a&&a.id!==0){let e=this.buildingInsuranceService.getCountriesByType(Number(a.id));this.countries=e.map(i=>({id:i.id,name:i.en_title,code:i.en_title,en_name:i.en_title,ar_name:i.ar_title}))}else this.countries=[];this.claimForm.get("country")?.setValue("")}onCountrySelected(a){this.claimForm.get("country")?.setValue(a?a.id:""),this.claimForm.get("country")?.markAsTouched()}onDropdownFocus(a){this.claimForm.get(a)?.markAsTouched()}onPlanSelected(a){this.selectedPlan=a,this.step++,this.progress=100}createFormData(){let a=new FormData;return[{key:"name",value:this.claimForm.get("name")?.value,include:this.step>=0},{key:"phone",value:this.claimForm.get("phone")?.value,include:this.step>=0},{key:"email",value:this.claimForm.get("email")?.value,include:this.step>=0},{key:"company_name",value:this.claimForm.get("company_name")?.value,include:this.step>=0},{key:"company_address",value:this.claimForm.get("company_address")?.value,include:this.step>=0},{key:"company_building_number",value:this.claimForm.get("company_building_number")?.value,include:this.step>=0},{key:"company_building_total_money",value:this.claimForm.get("company_building_total_money")?.value,include:this.step>=0},{key:"build_type_id",value:this.claimForm.get("buildType")?.value||"",include:this.step>=0},{key:"need_call",value:this.claimForm.get("needCall")?.value||"No",include:this.step>=3}].forEach(i=>{i.include&&i.value&&a.append(i.key,i.value)}),a.append("lead_type","corporate"),a.append("request_type","corporate"),a}needCall(){this.isNeedCallLoading=!0,this.claimForm.get("needCall")?.setValue("Yes");let a=this.createFormData(),e=this.translate.currentLang||"en";this.leadId?this.buildingInsuranceService.updateBuildingLead(this.leadId,a).pipe(E(()=>{let i=[this.translate.instant("pages.building_policy.alerts.call_request_success"),this.translate.instant("pages.building_policy.alerts.call_request_contact"),this.translate.instant("pages.building_policy.alerts.call_request_thanks")];this.alertService.showCallRequest({messages:i,buttonLabel:this.translate.instant("pages.building_policy.alerts.back_button")})}),P(i=>(console.error("Error updating lead with need call:",i),this.alertService.showNotification({translationKeys:{message:"pages.building_policy.errors.lead_update_failed"}}),N(null))),E(()=>this.isNeedCallLoading=!1)).subscribe():this.buildingInsuranceService.createBuildingLead(a).pipe(E(i=>{this.leadId=i.data.id;let o=this.translate.instant("pages.building_policy.alerts.back_button");this.alertService.showCallRequest({messages:[this.translate.instant("pages.building_policy.alerts.call_request_success"),this.translate.instant("pages.building_policy.alerts.call_request_contact"),this.translate.instant("pages.building_policy.alerts.call_request_thanks")],buttonLabel:o,redirectRoute:`/${e}/home`})}),P(i=>(console.error("Error creating lead with need call:",i),this.alertService.showNotification({translationKeys:{message:"pages.building_policy.errors.lead_creation_failed"}}),N(null))),E(()=>this.isNeedCallLoading=!1)).subscribe()}nextStep(){let a=this.steps[this.step].formFields;if(a.forEach(i=>{let o=this.claimForm.get(i);o&&!o.disabled&&o.markAsTouched()}),!!a.every(i=>{let o=this.claimForm.get(i);return o?.disabled||o?.valid})&&!this.isLoading)if(this.isLoading=!0,this.step===0&&!this.authService.isAuthenticated()){let i=this.claimForm.value,o={name:i.name,email:i.email,phone:i.phone,password:"defaultPassword123"};this.authService.register(o).pipe(P(m=>{console.error("Registration error:",m),this.isLoading=!1;let x=this.translate.instant("pages.home_form.errors.registration_failed");return(m.status===422||m.status===400)&&m.error?.errors?(m.error.errors.email&&(x+=`
- ${this.translate.instant("pages.home_form.errors.email_exist")}`),m.error.errors.phone&&(x+=`
- ${this.translate.instant("pages.home_form.errors.phone_exist")}`),this.alertService.showGeneral({messages:[x+`
`]}),this.router.navigate(["/",this.authService.getCurrentLang(),"login"])):alert(this.translate.instant("pages.home_form.errors.unexpected_error")),new ce(V=>V.error(m))}),E(m=>{console.log("User registered successfully:",m),this.authStorage.saveUserData(m.user)})).subscribe({next:()=>{this.proceedWithNextStep()},error:()=>{this.isLoading=!1}})}else this.proceedWithNextStep()}updateUserData(){if(Object.values(this.userDataStatus).some(a=>a===!1)&&this.authService.isAuthenticated()){let a=new FormData;a.append("user_id",String(this.authService?.getUserId())),Object.keys(this.userDataStatus).forEach(e=>{if(!this.userDataStatus[e]){let i=this.claimForm.get(e)?.value;i&&a.append(e,i)}}),this.authService.updateUserData(a).subscribe({next:e=>{let i=this.authService.getUserData(),o=Te(a);if(console.log("updated user data",o),i){let m=O(O({},i),o);this.authStorage.saveUserData(m)}},error:e=>{console.log("error while updating user data after lead creation",e)}})}}proceedWithNextStep(){let a=this.createFormData();this.step===0||!this.leadId?(this.buildingInsuranceService.createBuildingLead(a).pipe(E(e=>{this.leadId=e.data.id,this.step++,this.progress=(this.step+1)*16.67,this.step===6&&(this.showPlans=!1,this.alertService.showGeneral({messages:[this.translate.instant("pages.building_policy.alerts.building_request"),this.translate.instant("pages.building_policy.alerts.building_request_contact"),this.translate.instant("pages.building_policy.alerts.building_request_thanks")],imagePath:"assets/common/loading.gif",secondaryImagePath:"assets/common/otp.gif"}))}),P(e=>(console.error("Error creating lead:",e),this.alertService.showNotification({translationKeys:{message:"pages.building_policy.errors.lead_creation_failed"}}),N(null)))).subscribe({complete:()=>{this.isLoading=!1,setTimeout(()=>{this.alertService.hide()},1e3)}}),this.updateUserData()):this.buildingInsuranceService.updateBuildingLead(this.leadId,a).pipe(E(()=>{this.step++,this.progress=(this.step+1)*16.67,this.step===6&&(this.showPlans=!1,this.alertService.showGeneral({messages:[this.translate.instant("pages.building_policy.alerts.building_request")],imagePath:"assets/common/loading.gif",secondaryImagePath:"assets/common/otp.gif"}))}),P(e=>(console.error("Error updating lead:",e),this.alertService.showNotification({translationKeys:{message:"pages.building_policy.errors.lead_update_failed"}}),N(null)))).subscribe({complete:()=>{this.isLoading=!1,setTimeout(()=>{this.alertService.hide()},1e3)}})}pay(){if(!this.selectedPlan||!this.category){this.alertService.showNotification({translationKeys:{message:"pages.building_policy.errors.no_plan_selected"}});return}this.isLoading||(this.isLoading=!0,this.proceedWithPayment())}proceedWithPayment(){let a={category_id:String(this.category.id),user_id:this.authService.getUserId()||"0",building_insurance_id:String(this.selectedPlan.id),name:this.claimForm.get("name")?.value,email:this.claimForm.get("email")?.value,phone:this.claimForm.get("phone")?.value,building_type_id:String(this.claimForm.get("buildType")?.value),building_type:this.buildTypes.find(i=>i.id===this.claimForm.get("buildType")?.value)?.name,company_name:this.claimForm.get("company_name")?.value,company_address:this.claimForm.get("company_address")?.value,company_building_number:this.claimForm.get("company_building_number")?.value,company_building_total_money:this.claimForm.get("company_building_total_money")?.value,payment_method:"Cash",active_status:"requested",lead_type:"corporate",request_type:"corporate"},e=this.translate.currentLang||"en";this.buildingInsuranceService.submitBuildingPolicy(a).pipe(E(i=>{console.log("Policy submitted:",i),this.alertService.showGeneral({messages:[this.translate.instant("pages.building_policy.alerts.policy_submitted"),this.translate.instant("pages.building_policy.alerts.policy_review"),`${this.translate.instant("pages.building_policy.alerts.request_code")} ${i.data.id}`],buttonLabel:this.translate.instant("pages.building_policy.alerts.back_button"),redirectRoute:`/${e}/home`}),this.router.navigate(["/",e,"home"]),this.claimForm.reset(),this.step=0,this.buildTypes=[],this.countries=[],this.plans=[],this.category=null,this.progress=16.67,this.selectedPlan=null,this.leadId=null}),P(i=>(console.error("Error submitting policy:",i),this.alertService.showNotification({translationKeys:{message:this.translate.instant("pages.building_policy.errors.policy_submission_failed")}}),N(null))),E(()=>this.isLoading=!1)).subscribe()}isValidUrl(a){try{return new URL(a),!0}catch{return!1}}isNumber(a){return!isNaN(Number(a))&&a.trim()!==""}preventPaste(a){a.preventDefault()}preventNonNumeric(a){let e=["Backspace","Tab","ArrowLeft","ArrowRight","Delete"];!/[0-9]/.test(a.key)&&!e.includes(a.key)&&a.preventDefault()}RestirctToNumbers(a){let e=a.target,i=e.value,o=i.replace(/[^0-9]/g,"");i!==o&&(e.value=o,this.claimForm.get("phone")?.setValue(o))}restrictToLetters(a){let e=a.target,i=e.value,o=i.replace(/[0-9]/g,"");i!==o&&(e.value=o,this.claimForm.get("fullName")?.setValue(o))}static \u0275fac=function(e){return new(e||t)(C(Ie),C(Be),C(de),C(re),C(se),C(pe),C(ue),C(we),C(J),C(te),C(ie))};static \u0275cmp=W({type:t,selectors:[["app-building-corporate-form"]],decls:19,vars:16,consts:[["content",""],["notFound",""],["id","policy-form",1,"mx-5","md:mx-10","lg:mx-20","min-h-[500px]"],["loading","eager","fetchpriority","high","src","assets/policies/bg.png",1,"absolute","object-contain","bottom-0","h-[700px]","w-[400px]","-start-20",2,"z-index","2",3,"alt"],[1,"absolute","inset-0","bg-transparent","opacity-50",2,"z-index","3"],[1,"relative","z-10","p-4"],["class","flex flex-col sm:flex-row items-center gap-4",4,"ngIf"],["class","my-10 flex flex-col sm:flex-row justify-between items-center gap-4 w-full",4,"ngIf"],[1,"flex","flex-col","gap-4",3,"ngSubmit","formGroup"],["class","flex flex-col gap-4",4,"ngIf"],[4,"ngIf"],["class","flex flex-col md:flex-row gap-6",4,"ngIf"],[1,"flex","gap-4","items-center"],["type","submit","class","general-btn bg-[#00AEEF] text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",3,"disabled",4,"ngIf"],["class","need-call-btn",3,"disabled","click",4,"ngIf"],[1,"flex","flex-col","sm:flex-row","items-center","gap-4"],[1,"w-[78px]","h-[78px]","sm:w-[64px]","sm:h-[64px]","md:w-[78px]","md:h-[78px]"],["src","assets/ai/ai-avatar.jpg",1,"w-full","h-full","object-cover","rounded-full",3,"alt"],[1,"flex","flex-col","gap-2",3,"ngClass"],[1,"text-[#000]","font-Alexandria","text-[16px]","sm:text-[18px]","md:text-[20px]","font-normal","leading-[24px]","sm:leading-[30px]"],[1,"text-[#F00]","font-Alexandria","text-[16px]","sm:text-[18px]","md:text-[20px]","font-medium","leading-[24px]","sm:leading-[30px]"],[1,"my-10","flex","flex-col","sm:flex-row","justify-between","items-center","gap-4","w-full"],[1,"w-full","sm:flex-1","h-[20px]","md:h-[23px]","bg-[#EDF9FF]","rounded-full","overflow-hidden"],[1,"h-full","bg-[#00AEEF]","rounded-full","transition-all","duration-300"],[1,"text-[#37A6DE]","text-center","sm:text-right","font-Alexandria","text-[16px]","sm:text-[18px]","font-normal","leading-6","sm:leading-[30px]","whitespace-nowrap",3,"ngClass"],[1,"flex","flex-col","gap-4"],[1,"flex","flex-col","mb-[15px]","capitalize"],[1,"text-[#3C3C3C]","font-Alexandria","mb-4","text-[16px]","font-[400]","leading-5"],[1,"text-[#3C3C3C]","font-bold","font-Alexandria","mb-4","text-[18px]","leading-5"],[1,"text-[#000]","font-Alexandria","text-[16px]","leading-5"],[1,"flex","flex-col"],["formControlName","name","type","text",1,"general-input","w-full","border","border-gray-300","rounded-lg","px-4","py-3","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"input","paste","ngClass","placeholder"],[1,"error-container","flex","justify-between"],[1,"error-message",3,"ngClass"],["formControlName","phone","type","tel",1,"general-input","w-full","border","border-gray-300","rounded-lg","px-4","py-3","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"paste","keydown","ngClass","placeholder"],["formControlName","email","type","email",1,"general-input","w-full","border","border-gray-300","rounded-lg","px-4","py-3","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"paste","ngClass","placeholder"],[1,"flex","flex-col","mb-2"],["formControlName","company_name","type","text",1,"general-input","w-full","border","border-gray-300","rounded-lg","px-4","py-3","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"paste","ngClass","placeholder"],["formControlName","company_address","type","text",1,"general-input","w-full","border","border-gray-300","rounded-lg","px-4","py-3","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"paste","ngClass","placeholder"],[1,"flex","flex-wrap","gap-4"],["class","flex items-center text-lg md:text-[18px] px-12 py-4 border border-gray-400 rounded-[15px] cursor-pointer transition",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","items-center","text-lg","md:text-[18px]","px-12","py-4","border","border-gray-400","rounded-[15px]","cursor-pointer","transition",3,"ngClass"],["type","radio","name","buildType","formControlName","buildType",1,"hidden",3,"change","value"],[1,"w-6","h-6","me-2","rounded-full","border-1","flex","items-center","justify-center",3,"ngClass"],["class","w-3 h-3 bg-blue-500 rounded-full",4,"ngIf"],[1,"w-3","h-3","bg-blue-500","rounded-full"],[1,"text-[#3C3C3C]","font-Alexandria","text-[18px]","font-[400]","leading-5"],[1,"text-[#000]","font-Alexandria","text-[23px]","font-[400]","leading-5"],["formControlName","company_building_number","type","number",1,"general-input","w-full","border","border-gray-300","rounded-lg","px-4","py-3","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"paste","keydown","ngClass","placeholder","min"],["formControlName","company_building_total_money","type","number",1,"general-input","w-full","border","border-gray-300","rounded-lg","px-4","py-3","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"paste","keydown","ngClass","placeholder"],[1,"flex","flex-col","gap-6"],["class","text-red-500 text-sm",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"text-red-500","text-sm"],[1,"flex","flex-wrap","gap-4","justify-center"],["class","w-full max-w-md p-4 sm:p-6 min-w-[280px]",4,"ngFor","ngForOf"],[1,"w-full","max-w-md","p-4","sm:p-6","min-w-[280px]"],[1,"animate-pulse"],[1,"h-12","bg-gray-200","rounded-2xl","mb-4"],[1,"h-8","bg-gray-200","rounded","mb-4"],[1,"space-y-3"],["class","flex items-center",4,"ngFor","ngForOf"],[1,"h-10","bg-gray-200","rounded","mt-6"],[1,"flex","items-center"],[1,"w-4","h-4","bg-gray-200","rounded-sm","me-3"],[1,"h-4","bg-gray-200","rounded","w-3/4"],[1,"flex","max-w-[300px]","justify-start"],[1,"need-call-btn",3,"click","disabled"],["style","height: auto",3,"class",4,"ngFor","ngForOf"],[2,"height","auto"],[1,"absolute","z-10","w-10","h-12","rounded-full","top-1/2","-left-0","transform","-translate-x-1/2","-translate-y-1/2","bg-white","[box-shadow:inset_-4px_0_4px_-2px_rgba(0,0,0,0.2)]","hidden","sm:block"],[1,"absolute","z-10","w-10","h-12","rounded-full","top-1/2","-right-0","transform","translate-x-1/2","-translate-y-1/2","bg-white","[box-shadow:inset_4px_0_4px_-2px_rgba(0,0,0,0.2)]","hidden","sm:block"],[1,"flex","flex-col","sm:flex-row","sm:justify-between","sm:items-center","mb-4"],[1,"text-[#5db5df]","text-base","capitalize"],[1,"text-xl","sm:text-2xl","font-bold","text-black","mb-4"],[1,"space-y-3","mb-6"],[1,"flex","items-center","justify-between"],["src","plan.svg","alt","",1,"w-4","h-4"],[1,"text-sm","sm:text-base","text-black","capitalize"],[1,"text-red-600","text-xs","text-right"],["class","flex items-center justify-between",4,"ngFor","ngForOf"],[1,"cursor-pointer","select-policy-btn","w-full","sm:w-auto","mt-auto",3,"click"],["target","_blank",1,"text-red-600","underline",3,"href"],["class","w-12 h-12 inline-block",3,"src","alt",4,"ngIf"],[1,"w-12","h-12","inline-block",3,"src","alt"],[1,"text-gray-600","text-xs","text-right"],[1,"plans","mx-auto","w-full","max-w-[calc(3*448px+2*1rem)]"],[1,"bg-red-50",3,"options"],[4,"ngFor","ngForOf"],["carouselSlide","",3,"id"],[1,"flex","flex-col","md:flex-row","gap-6"],[1,"w-full","md:w-1/2"],["style","height: auto",3,"class",4,"ngIf"],[1,"w-full","md:w-1/2","flex","flex-col","gap-4"],[1,"text-[#000]","font-Alexandria","text-[23px]","font-[400]","leading-5","mb-4"],[1,"max-w-[300px]"],["type","radio","name","paymentType","value","Full Payment","formControlName","paymentType",1,"hidden"],[1,"w-3.5","h-3.5","me-2","rounded-full","border-2","flex","items-center","justify-center",3,"ngClass"],["class","w-2 h-2 bg-blue-500 rounded-full",4,"ngIf"],["type","radio","name","paymentMethod","value","Cash","formControlName","paymentMethod",1,"hidden"],[1,"flex","gap-4","items-center","justify-between"],[1,"general-btn","bg-[#37a6de]","text-white","py-2","px-4","rounded-lg","hover:bg-blue-700","transition-colors",3,"click","disabled"],[1,"w-2","h-2","bg-blue-500","rounded-full"],["type","submit",1,"general-btn","bg-[#00AEEF]","text-white","py-2","px-4","rounded-lg","hover:bg-blue-700","transition-colors",3,"disabled"]],template:function(e,i){e&1&&(r(0,"div",2),f(1,"img",3),d(2,"translate"),f(3,"div",4),r(4,"div",5),g(5,Si,11,12,"div",6)(6,Fi,5,6,"div",7),r(7,"form",8),b("ngSubmit",function(){return i.nextStep()}),g(8,Li,27,33,"div",9)(9,ki,13,14,"div",9)(10,Ai,13,14,"div",9)(11,Mi,15,11,"div",9)(12,Ri,12,15,"div",9)(13,Hi,12,14,"div",9)(14,bn,6,3,"ng-container",10)(15,Dn,38,45,"div",11),r(16,"div",12),g(17,Nn,4,6,"button",13)(18,An,4,6,"button",14),l()()()()),e&2&&(n(),G("alt",u(2,14,"pages.building_policy.background_image_alt")),n(4),p("ngIf",i.step<6),n(),p("ngIf",i.step<6),n(),p("formGroup",i.claimForm),n(),p("ngIf",i.step===0),n(),p("ngIf",i.step===1),n(),p("ngIf",i.step===2),n(),p("ngIf",i.step===3),n(),p("ngIf",i.step===4),n(),p("ngIf",i.step===5),n(),p("ngIf",i.step===6&&i.showPlans),n(),p("ngIf",i.step===7),n(2),p("ngIf",i.step<6),n(),p("ngIf",i.step>=1&&i.step<6))},dependencies:[ee,Q,me,X,ae,he,fe,ye,be,xe,ve,Fe,Ce,Se,ne,ge,_e,oe,le,Ee],encapsulation:2})};var jn=t=>({"mt-4":t}),On=t=>({opacity:t}),Un=(t,a)=>({"-left-10":t,"-right-10":a});function Mn(t,a){if(t&1){let e=B();r(0,"img",14),b("click",function(){h(e);let o=c();return y(o.showForm=!o.showForm)}),l()}if(t&2){let e=c();De("rotate-180",e.currentLanguage==="ar")}}function $n(t,a){t&1&&(r(0,"div",15),f(1,"div",16),r(2,"div",17),f(3,"div",18)(4,"div",19),l(),r(5,"div",20),f(6,"div",21),l()())}function qn(t,a){if(t&1){let e=B();r(0,"button",25),b("click",function(){h(e);let o=c(2);return o.scrollToForm(),o.showForm=!0,y(o.showSelectLead=!0)}),s(1),d(2,"translate"),l()}t&2&&(n(),_(" ",u(2,1,"pages.building_policy.claim_data_button")," "))}function Gn(t,a){if(t&1&&(r(0,"div")(1,"div",22),s(2),l(),r(3,"p",23),s(4),l(),r(5,"div",20),g(6,qn,3,3,"button",24),l()()),t&2){let e=c();n(2),_(" ",e.currentLanguage==="ar"?e.category==null?null:e.category.ar_title:e.category==null?null:e.category.en_title," "),n(2),_(" ",e.currentLanguage==="ar"?e.category==null?null:e.category.ar_small_description:e.category==null?null:e.category.en_small_description," "),n(2),p("ngIf",!e.showForm)}}function Rn(t,a){t&1&&(r(0,"div",26)(1,"div",27),Me(),r(2,"svg",28),f(3,"path",29),l()()())}function zn(t,a){if(t&1){let e=B();r(0,"img",30),d(1,"translate"),b("load",function(){h(e);let o=c();return y(o.onImageLoad())})("error",function(){h(e);let o=c();return y(o.onImageError())}),l()}if(t&2){let e=c();Z("opacity",e.imageLoaded?1:0),G("alt",u(1,3,"pages.building_policy.building_policy_image_alt"))}}function Kn(t,a){t&1&&f(0,"app-building-individual-form")}function Hn(t,a){t&1&&f(0,"app-building-corporate-form")}function Wn(t,a){if(t&1){let e=B();r(0,"app-lead-type-selector",31),b("selectionChange",function(o){h(e);let m=c();return y(m.onLeadTypeSelected(o))})("nextClick",function(){h(e);let o=c();return y(o.selectFrom())}),l()}if(t&2){let e=c();p("config",e.leadTypeConfig)("selectedValue",e.userSelectedLead)}}function Zn(t,a){if(t&1&&(r(0,"div",32),f(1,"div",33),d(2,"safeHtml"),l()),t&2){let e=c();n(),p("innerHTML",u(2,1,e.currentLanguage?e.currentLanguage==="ar"?e.category==null?null:e.category.ar_main_description:e.category==null?null:e.category.en_main_description:""),qe)}}function Yn(t,a){if(t&1&&(r(0,"div",46)(1,"div",47),s(2),l(),r(3,"div",48),s(4),l(),r(5,"div",49),f(6,"img",50),l()()),t&2){let e=c(2);n(2),_(" ",e.counters[0].counter_value||0," "),n(2),_(" ",e.currentLanguage==="ar"?e.counters[0].ar_name:e.counters[0].en_name," ")}}function Jn(t,a){t&1&&(r(0,"div"),s(1," Loading or no data available... "),l())}function Qn(t,a){if(t&1&&(r(0,"div",34)(1,"div",35)(2,"div",36),f(3,"div",37)(4,"div",38)(5,"div",39),g(6,Yn,7,2,"div",40)(7,Jn,2,0,"div",5),l(),r(8,"div",41)(9,"div",42),s(10),l(),r(11,"div",43),s(12),l(),r(13,"ul",44)(14,"li",45),s(15),l()()()()()),t&2){let e=c();n(6),p("ngIf",e.counters&&e.counters.length>0),n(),p("ngIf",!e.counters||e.counters.length===0),n(3),_(" ",e.currentLanguage==="ar"?"\u0646\u0642\u062F\u0645 \u0644\u0643":"Our Progress"," "),n(2),_(" ",e.currentLanguage==="ar"?"\u0631\u0627\u062D\u0629 \u0628\u0627\u0644\u0643 \u062A\u0628\u062F\u0623 \u0645\u0646 \u0647\u0646\u0627":"Your peace of mind starts here"," "),n(3),_(" ",e.currentLanguage==="ar"?"96 \u0648\u062B\u064A\u0642\u0629 \u062A\u0623\u0645\u064A\u0646 \u0639\u0644\u0649 \u0627\u0644\u0639\u0642\u0627\u0631\u0627\u062A \u062A\u063A\u0637\u064A \u0627\u062D\u062A\u064A\u0627\u062C\u0627\u062A\u0643 \u0627\u0644\u0635\u062D\u064A\u0629 \u0641\u064A \u0643\u0644 \u0645\u0631\u062D\u0644\u0629\u060C \u0645\u0646 \u0627\u0644\u0627\u0633\u062A\u0634\u0627\u0631\u0627\u062A \u0625\u0644\u0649 \u0627\u0644\u0639\u0645\u0644\u064A\u0627\u062A \u0627\u0644\u062C\u0631\u0627\u062D\u064A\u0629 \u0627\u0644\u0643\u0628\u0631\u0649":"over 96 property insurance policies covering your healthcare needs at every stage, from consultation to major surgeries"," ")}}var lt=class t{constructor(a,e,i,o,m,x,V,F){this.buildingInsuranceService=a;this.translate=e;this.languageService=i;this.alertService=o;this.genericDataService=m;this.cdr=x;this.meta=V;this.title=F;this.languageSubscription=this.languageService.currentLanguage$.subscribe(z=>{this.cdr.markForCheck(),this.updateCarouselDirection(z),this.currentLanguage=z}),this.genericDataService.getCounters().subscribe(z=>{console.log(z),this.counters=z.filter(ke=>ke.id===5),this.cdr.markForCheck()})}showForm=!1;leadId=null;isLoading=!1;isContentLoading=!0;languageSubscription;alertSubscription;counters=[];platformId=Ue($e);isTextContentLoading=!0;isImageLoading=!1;imageLoaded=!1;countries=[];category=null;userSelectedLead="individual";leadType=null;showSelectLead=!1;leadTypeConfig={title:"pages.professional_indemnity.form.lead_type.can_i_know",subtitle:"pages.professional_indemnity.form.lead_type.individual_or_corporate",description:"pages.professional_indemnity.form.lead_type.because_it_will_make_a_big_different_in_your_steps",nextButtonText:"pages.professional_indemnity.form.lead_type.next_button",options:[{value:"individual",translationKey:"pages.professional_indemnity.form.lead_type.individual"},{value:"corporate",translationKey:"pages.professional_indemnity.form.lead_type.corporate"}]};steps=[{en_title:"Personal Information",ar_title:"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0634\u062E\u0635\u064A\u0629",formFields:["name","phone","email"]},{en_title:"Building Type",ar_title:"\u0646\u0648\u0639 \u0627\u0644\u0645\u0628\u0646\u0649",formFields:["buildType"]},{en_title:"Country",ar_title:"\u0627\u0644\u0628\u0644\u062F",formFields:["country"]},{en_title:"Building Value",ar_title:"\u0642\u064A\u0645\u0629 \u0627\u0644\u0645\u0628\u0646\u0649",formFields:["buildingValue"]},{en_title:"Select Plan",ar_title:"\u0627\u062E\u062A\u064A\u0627\u0631 \u0627\u0644\u062E\u0637\u0629",formFields:[]},{en_title:"Payment",ar_title:"\u0627\u0644\u062F\u0641\u0639",formFields:["paymentType","paymentMethod"]}];customOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,smartSpeed:700,navText:["<",">"],nav:!0,center:!0,autoplay:!0,margin:16,responsive:{0:{items:1,nav:!0},400:{items:1,nav:!0},600:{items:2,nav:!0},1e3:{items:3,nav:!0}},rtl:!1};currentLanguage="en";ngOnInit(){this.isTextContentLoading=!0,this.isImageLoading=!1,this.imageLoaded=!1,this.buildingInsuranceService.fetchBuildingData().pipe(E(a=>{this.category=a.category;let e=this.translate.currentLang==="ar"?a.category.ar_meta_title:a.category.en_meta_title,i=this.translate.currentLang==="ar"?a.category.ar_meta_description:a.category.en_meta_description;this.title.setTitle(e),this.meta.updateTag({name:"description",content:i}),this.cdr.markForCheck(),this.countries=a.countries.map(o=>({id:o.id,name:o.en_title,code:o.en_title,en_name:o.en_title,ar_name:o.ar_title})),this.isTextContentLoading=!1,this.cdr.markForCheck()}),P(a=>(console.error("Error fetching building data:",a),this.alertService.showNotification({translationKeys:{message:"pages.building_policy.errors.data_fetch_failed"}}),this.isTextContentLoading=!1,this.cdr.markForCheck(),N(null)))).subscribe(),this.genericDataService.getCounters().subscribe(a=>{this.counters=a.filter(e=>e.id===5),this.cdr.markForCheck()})}onImageLoad(){this.imageLoaded=!0,this.isImageLoading=!1,this.cdr.markForCheck()}onImageError(){this.isImageLoading=!1,this.imageLoaded=!1,this.alertService.showNotification({translationKeys:{message:"pages.building_policy.errors.image_load_failed"}}),this.cdr.markForCheck()}ngOnDestroy(){this.languageSubscription&&this.languageSubscription.unsubscribe(),this.alertSubscription&&this.alertSubscription.unsubscribe()}updateCarouselDirection(a){let e=a==="ar";this.customOptions.rtl!==e&&(this.customOptions=H(O({},this.customOptions),{rtl:e,navText:e?["\u0627\u0644\u062A\u0627\u0644\u064A","\u0627\u0644\u0633\u0627\u0628\u0642"]:["Previous","Next"]}))}scrollToForm(){setTimeout(()=>{if(Re(this.platformId)){let a=document.getElementById("policy-form");a&&a.scrollIntoView({behavior:"smooth",block:"center"})}},50)}goBack(){history.back()}onLeadTypeSelected(a){this.userSelectedLead=a}selectFrom(){this.leadType=this.userSelectedLead,this.showSelectLead=!1}static \u0275fac=function(e){return new(e||t)(C(de),C(re),C(se),C(pe),C(ze),C(J),C(te),C(ie))};static \u0275cmp=W({type:t,selectors:[["app-building-policy"]],decls:18,vars:27,consts:[[1,"bg-white","my-5","relative",3,"dir"],[1,"mx-5","md:mx-10","lg:mx-20","overflow-hidden","pt-8","pb-0","relative","flex","flex-col","md:flex-row","gap-4","mb-12","bg-gradient-to-br","from-[#F2F2F2]","from-[15.48%]","via-[#DBEFFD]","via-[63.88%]","to-[#DBEFFD]","rounded-lg","shadow-lg","justify-evenly"],["class","absolute z-10 w-[40px] h-[40px] top-[10px] start-[10px] cursor-pointer hover:scale-120 transition-all duration-300","src","assets/common/back.svg","alt","back button","role","button",3,"rotate-180","click",4,"ngIf"],[1,"z-10","policy-top-card","px-6","md:px-8","lg:px-12","flex","flex-col","gap-4","justify-center","w-full","md:w-3/4","transition-all","duration-300",3,"ngClass"],["class","animate-pulse flex flex-col gap-4",4,"ngIf"],[4,"ngIf"],[1,"h-auto","w-full","md:w-[580px]","flex","items-end","justify-center"],["class","w-full h-full animate-pulse bg-gray-200 rounded-b-lg md:rounded-none flex items-center justify-center",4,"ngIf"],["class","w-[100%] h-[60%] object-cover  rounded-b-lg md:rounded-none transition-opacity duration-300","src","assets/policies/building.png",3,"alt","opacity","load","error",4,"ngIf"],["src","assets/common/gradient.png",1,"absolute","bottom-0","z-0","transition-opacity","duration-300",3,"ngStyle","ngClass","alt"],["componentId","lead-type-choice","radioGroupName","buildingType","id","policy-form",3,"config","selectedValue","selectionChange","nextClick",4,"ngIf"],["class","mx-5  max-h-[933px]  overflow-y-auto md:mx-10 lg:mx-20 py-2 px-4 md:px-12   rounded-[40px]  bg-[url('assets/policies/big-cover.png')] bg-no-repeat bg-center bg-cover",4,"ngIf"],["class","mx-5 mt-12 md:mx-10 lg:mx-20 p-4 md:p-8 rounded-[20px]  bg-[url('assets/policies/small-cover.png')] bg-no-repeat bg-center bg-cover",4,"ngIf"],[3,"policyType"],["src","assets/common/back.svg","alt","back button","role","button",1,"absolute","z-10","w-[40px]","h-[40px]","top-[10px]","start-[10px]","cursor-pointer","hover:scale-120","transition-all","duration-300",3,"click"],[1,"animate-pulse","flex","flex-col","gap-4"],[1,"h-8","md:h-10","lg:h-12","bg-gray-200","rounded","w-3/4"],[1,"space-y-2"],[1,"h-4","bg-gray-200","rounded","w-full"],[1,"h-4","bg-gray-200","rounded","w-5/6"],[1,"flex","flex-col","items-start","md:flex-row","md:items-center","gap-4","!mb-8","mt-4"],[1,"h-10","bg-gray-200","rounded-lg","w-32"],[1,"text-xl","md:text-2xl","lg:text-3xl","font-semibold","text-gray-800"],[1,"text-sm","md:text-base","text-gray-600","rtl:text-fluid-ar!"],["class","main-btn bg-[#00AEEF] text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm md:text-base",3,"click",4,"ngIf"],[1,"main-btn","bg-[#00AEEF]","text-white","py-2","px-4","rounded-lg","hover:bg-blue-700","transition-colors","text-sm","md:text-base",3,"click"],[1,"w-full","h-full","animate-pulse","bg-gray-200","rounded-b-lg","md:rounded-none","flex","items-center","justify-center"],[1,"w-16","h-16","bg-gray-300","rounded-lg","flex","items-center","justify-center"],["fill","currentColor","viewBox","0 0 20 20",1,"w-8","h-8","text-gray-400"],["fill-rule","evenodd","d","M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z","clip-rule","evenodd"],["src","assets/policies/building.png",1,"w-[100%]","h-[60%]","object-cover","rounded-b-lg","md:rounded-none","transition-opacity","duration-300",3,"load","error","alt"],["componentId","lead-type-choice","radioGroupName","buildingType","id","policy-form",3,"selectionChange","nextClick","config","selectedValue"],[1,"mx-5","max-h-[933px]","overflow-y-auto","md:mx-10","lg:mx-20","py-2","px-4","md:px-12","rounded-[40px]","bg-[url('assets/policies/big-cover.png')]","bg-no-repeat","bg-center","bg-cover"],[1,"flex","flex-col","gap-2","p-4","capitalize","prose",3,"innerHTML"],[1,"mx-5","mt-12","md:mx-10","lg:mx-20","p-4","md:p-8","rounded-[20px]","bg-[url('assets/policies/small-cover.png')]","bg-no-repeat","bg-center","bg-cover"],[1,"w-full","flex","flex-col","lg:flex-row","gap-8","lg:gap-16","capitalize","justify-center","items-center"],[1,"relative","w-64","h-64","sm:w-72","sm:h-72","md:w-86","md:h-86","flex","items-center","justify-center","mx-auto","lg:mx-0"],[1,"absolute","w-64","h-64","sm:w-72","sm:h-72","md:w-86","md:h-86","rounded-full","border-[18px]","sm:border-[20px]","md:border-[24px]","border-transparent","border-t-white","rotate-[246deg]"],[1,"absolute","w-64","h-64","sm:w-72","sm:h-72","md:w-86","md:h-86","rounded-full","border-[18px]","sm:border-[20px]","md:border-[24px]","border-transparent","border-t-[#37A6DE]","border-l-[#37A6DE]","border-r-[#37A6DE]","rotate-[16deg]"],[1,"absolute","w-40","h-40","sm:w-48","sm:h-48","md:w-58","md:h-58","rounded-full","border-[30px]","sm:border-[36px]","md:border-[40px]","border-[#A9D5EB]","bg-transparent"],["class","z-10 flex flex-col items-center justify-center text-center bg-[#37A6DE] rounded-full w-32 h-32 sm:w-40 sm:h-40 md:w-48 md:h-48 shadow-md",4,"ngIf"],[1,"flex","flex-col","gap-6","items-start","justify-center","lg:w-[60%]"],[1,"policy-title2","text-[20px]","md:text-[35px]"],[1,"policy-big-title","text-[20px]","md:text-[35px]"],[1,"flex","flex-col","gap-2"],[1,"leading-[35px]","text-justify"],[1,"z-10","flex","flex-col","items-center","justify-center","text-center","bg-[#37A6DE]","rounded-full","w-32","h-32","sm:w-40","sm:h-40","md:w-48","md:h-48","shadow-md"],[1,"text-lg","sm:text-xl","md:text-[30px]","font-bold","text-white"],[1,"text-sm","sm:text-base","md:text-[20px]","text-white"],[1,"text-white","mt-2","text-xs","sm:text-sm","md:text-base"],["src","assets/policies/building-icon.png","alt","",1,"w-6","h-6","sm:w-8","sm:h-8","md:w-10","md:h-10"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"div",1),g(2,Mn,1,2,"img",2),r(3,"div",3),g(4,$n,7,0,"div",4)(5,Gn,7,3,"div",5),l(),r(6,"div",6),g(7,Rn,4,0,"div",7)(8,zn,2,5,"img",8),l(),f(9,"img",9),d(10,"translate"),l(),r(11,"div"),g(12,Kn,1,0,"app-building-individual-form",5)(13,Hn,1,0,"app-building-corporate-form",5)(14,Wn,1,2,"app-lead-type-selector",10),l()(),g(15,Zn,3,3,"div",11)(16,Qn,16,5,"div",12),f(17,"app-partners-logos",13)),e&2&&(p("dir",i.translate.currentLang==="ar"?"rtl":"ltr"),n(2),p("ngIf",i.showForm),n(),p("ngClass",S(20,jn,i.showForm)),n(),p("ngIf",i.isTextContentLoading),n(),p("ngIf",!i.isTextContentLoading),n(2),p("ngIf",i.isImageLoading),n(),p("ngIf",!i.isImageLoading),n(),G("alt",u(10,18,"pages.building_policy.gradient_image_alt")),p("ngStyle",S(22,On,i.showForm?1:0))("ngClass",L(24,Un,i.translate.currentLang==="en",i.translate.currentLang==="ar")),n(2),De("hidden",!i.showForm),n(),p("ngIf",i.leadType==="individual"),n(),p("ngIf",i.leadType==="corporate"),n(),p("ngIf",i.showSelectLead&&!i.leadType),n(),p("ngIf",!i.showForm),n(),p("ngIf",!i.showForm),n(),p("policyType","property"))},dependencies:[ee,Q,X,Ge,ae,ne,oe,le,Ke,He,Ve,Ze,Pe],styles:[".policy-title[_ngcontent-%COMP%]{color:#5db5df;font-family:Alexandria;font-size:clamp(25px,5vw,35px);font-style:normal;font-weight:700;text-transform:capitalize}.policy-title2[_ngcontent-%COMP%]{color:#37a6de;font-family:Alexandria;font-style:normal;font-weight:600;text-transform:capitalize}.policy-big-title[_ngcontent-%COMP%]{color:#174a77;text-align:center;font-family:Alexandria;font-style:normal;font-weight:500;line-height:35px;text-transform:capitalize}  .plans .owl-carousel .owl-item img{width:fit-content;height:fit-content}"]})};export{lt as BuildingPolicyComponent};
