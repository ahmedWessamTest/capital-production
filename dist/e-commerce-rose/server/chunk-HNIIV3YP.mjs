import './polyfills.server.mjs';
import{a as X}from"./chunk-KKM3RTKP.mjs";import{a as Q}from"./chunk-IYMTYXS2.mjs";import{c as P,d as y,f as p,i as C,o as J}from"./chunk-VP43NVKH.mjs";import{Aa as M,Bb as w,Cb as N,E as L,Fa as f,Ma as l,Pa as D,Rc as W,Sa as S,Sc as q,U as m,Ua as R,V as u,Va as E,Wa as F,Xa as n,Xc as H,Ya as r,Za as c,ab as b,ad as K,bb as _,c as I,cb as g,dc as V,ea as O,ec as $,kb as d,lb as h,lc as z,mb as k,nc as G,oc as U,ra as B,tb as j,va as a,vb as T,za as v,zb as x}from"./chunk-UQC3G75Y.mjs";import"./chunk-X2SEQXRR.mjs";var Z=()=>[1,2,3,4,5,6],ee=(i,t)=>["/",i,"blog",t];function te(i,t){i&1&&(n(0,"div",4)(1,"div",5),c(2,"div",6),r(),n(3,"div",7)(4,"div",8)(5,"div",9),c(6,"div",10)(7,"div",11),r(),n(8,"div",12),c(9,"div",13),n(10,"div",14),c(11,"div",15)(12,"div",16),r()()(),n(13,"div",17),c(14,"div",18),r()()())}function ie(i,t){i&1&&(n(0,"div",2),E(1,te,15,0,"div",4,R),r()),i&2&&(l("@skeletonAnimation",void 0),a(),F(j(1,Z)))}function ne(i,t){i&1&&c(0,"div",37)}function oe(i,t){if(i&1){let e=b();n(0,"div",20)(1,"div",21),c(2,"div",22),f(3,ne,1,0,"div",23),n(4,"img",24),_("load",function(){let s=m(e).$implicit,A=g(2);return u(A.onImageLoad(s.main_image))}),r()(),n(5,"div",25)(6,"div",26)(7,"div",27),c(8,"div",28),n(9,"div",29),d(10),x(11,"truncate"),r()(),n(12,"div",30)(13,"div"),c(14,"img",31),r(),n(15,"div",32)(16,"span"),d(17),x(18,"date"),r(),n(19,"span",33),d(20),x(21,"date"),r()()()(),n(22,"div",34)(23,"div",35)(24,"span",36),d(25,"\u0627\u0642\u0631\u0623 \u0627\u0644\u0645\u0632\u064A\u062F..."),r()()()()()}if(i&2){let e=t.$implicit,o=g(2);l("routerLink",T(17,ee,o.currentLanguage.toLowerCase(),e.ar_slug)),a(3),l("ngIf",!o.isImageLoaded(e.main_image)),a(),l("src",o.API_CONFIG+e.main_image,B)("alt",e.ar_blog_title+" image"),a(6),k(" ",w(11,8,e.ar_blog_title,44)," "),a(4),l("alt",e.blog_date+" calendar icon"),a(3),h(w(18,11,o.parseDate(e.blog_date),"dd")),a(3),h(w(21,14,o.parseDate(e.blog_date),"MMM"))}}function re(i,t){if(i&1&&(n(0,"div",2),f(1,oe,26,20,"div",19),r()),i&2){let e=g();l("@cardAnimation",void 0),a(),l("ngForOf",e.blogsResponse==null||e.blogsResponse.rows==null?null:e.blogsResponse.rows.data)}}function ae(i,t){if(i&1){let e=b();n(0,"button",43),_("click",function(){m(e);let s=g(2);return u(s.changePage(s.blogsResponse.rows.prev_page_url))}),n(1,"span",42),d(2,"\u0627\u0644\u0633\u0627\u0628\u0642"),r()()}}function le(i,t){if(i&1){let e=b();n(0,"button",44),_("click",function(){let s=m(e).$implicit,A=g(2);return u(A.changePage(s.url))}),n(1,"span"),d(2),r()()}if(i&2){let e=t.$implicit;D(e.active?"bg-[#174A77] text-white":"bg-[#D9D9D9] text-[#174A77]"),l("disabled",!e.url),a(2),h(e.label)}}function se(i,t){if(i&1){let e=b();n(0,"div",38),f(1,ae,3,0,"button",39)(2,le,3,4,"button",40),x(3,"slice"),n(4,"button",41),_("click",function(){m(e);let s=g();return u(s.changePage(s.blogsResponse.rows.next_page_url))}),n(5,"span",42),d(6,"\u0627\u0644\u062A\u0627\u0644\u064A"),r()()()}if(i&2){let e=g();a(),l("ngIf",e.blogsResponse.rows.prev_page_url),a(),l("ngForOf",N(3,3,e.blogsResponse==null||e.blogsResponse.rows==null?null:e.blogsResponse.rows.links,1,-1)),a(2),l("disabled",!e.blogsResponse.rows.next_page_url)}}var Y=class i{constructor(t,e,o){this.blogsService=t;this.languageService=e;this.router=o}blogsResponse=null;currentPage=1;API_CONFIG=K.BASE_URL_IMAGE;isLoading=O(!0);currentLanguage="ar";loadedImages=new Set;destroy$=new I;ngOnInit(){if(this.currentLanguage=this.languageService.getCurrentLanguage(),this.currentLanguage!=="ar"){this.router.navigate([`${this.currentLanguage}/english-blogs`]);return}this.languageService.currentLanguage$.pipe(L(this.destroy$)).subscribe(t=>{t!=="ar"&&t!==this.currentLanguage&&this.router.navigate([`${t}/english-blogs`]),this.currentLanguage=t}),this.loadBlogs(this.currentPage)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadBlogs(t){this.isLoading.set(!0),this.loadedImages.clear(),this.blogsService.getArabicBlogs(t).subscribe({next:e=>{this.blogsResponse=e,this.isLoading.set(!1)},error:e=>{console.error("Error fetching blogs:",e),this.isLoading.set(!1)}})}changePage(t){if(t){let e=new URL(t).searchParams.get("page");e&&(this.currentPage=+e,this.loadBlogs(this.currentPage))}}isImageLoaded(t){return this.loadedImages.has(t)}onImageLoad(t){this.loadedImages.add(t)}parseDate(t){if(!t)return null;let[e,o,s]=t.split("-").map(Number);return isNaN(e)||isNaN(o)||isNaN(s)?null:new Date(s,o-1,e)}static \u0275fac=function(e){return new(e||i)(v(Q),v(J),v(W))};static \u0275cmp=M({type:i,selectors:[["app-arabic-blogs"]],decls:6,vars:4,consts:[[1,"blog-container","px-2","sm:px-4","md:px-8","lg:px-12","my-20"],[1,"hidden"],[1,"flex","flex-wrap","justify-start","gap-4","sm:gap-6"],["class","pagination mt-8 flex justify-center gap-2",4,"ngIf"],[1,"blog-card-skeleton","bg-white","rounded-[80px]","overflow-hidden","shadow-sm","flex","flex-col","h-full","min-h-[467px]","w-full","sm:w-[calc(50%-1rem)]","lg:w-[calc(33.333%-1.5rem)]"],[1,"image-skeleton","h-[260px]","w-full","bg-gray-200","animate-pulse","relative"],[1,"absolute","bottom-0","left-0","w-full","h-1","bg-gray-300"],[1,"p-6","flex","flex-col","flex-grow"],[1,"flex","justify-between","mb-4"],[1,"flex-1","space-y-2"],[1,"h-1","w-16","bg-gray-200","rounded-full"],[1,"h-6","w-3/4","bg-gray-200","rounded"],[1,"flex","items-center","gap-2"],[1,"h-6","w-6","bg-gray-200","rounded-full"],[1,"flex","flex-col"],[1,"h-4","w-8","bg-gray-200","rounded"],[1,"h-4","w-8","bg-gray-200","rounded","mt-1"],[1,"mt-auto","pt-4"],[1,"h-8","w-24","bg-gray-200","rounded-full"],["class","blog-card w-full sm:w-[calc(50%-1rem)] lg:w-[calc(33.333%-1.5rem)] h-[467px] rounded-[80px] overflow-hidden bg-[#F3F3F3] flex flex-col cursor-pointer hover:shadow-lg transition-shadow",3,"routerLink",4,"ngFor","ngForOf"],[1,"blog-card","w-full","sm:w-[calc(50%-1rem)]","lg:w-[calc(33.333%-1.5rem)]","h-[467px]","rounded-[80px]","overflow-hidden","bg-[#F3F3F3]","flex","flex-col","cursor-pointer","hover:shadow-lg","transition-shadow",3,"routerLink"],[1,"relative","image-section","custom-partial-border","h-[260px]","w-full"],[1,"line2","absolute","-bottom-6","start-6","z-10"],["class","image-skeleton h-[260px] w-full bg-gray-200 animate-pulse absolute",4,"ngIf"],["loading","lazy",1,"card-image","w-full","h-[260px]","object-cover",3,"load","src","alt"],[1,"mt-8","flex","flex-col","justify-between","h-full"],[1,"flex"],[1,"flex","gap-0","flex-col","px-6","w-[75%]"],[1,"white-line"],[1,"font-alexandria","text-[#174A77]","text-[18px]","font-bold","capitalize","leading-[25px]","sm:text-[16px]","text-right"],[1,"flex","justify-center","gap-2"],["src","assets/blogs/calender-blue.svg","loading","lazy",3,"alt"],[1,"date-text","text-[#37A6DE]","flex","flex-col","font-bold","text-lg","sm:text-base"],[1,"-mt-2"],[1,"button-container","mt-auto"],[1,"read-more-button"],[1,"button-text"],[1,"image-skeleton","h-[260px]","w-full","bg-gray-200","animate-pulse","absolute"],[1,"pagination","mt-8","flex","justify-center","gap-2"],["class","w-[80px] h-[30px] rounded-full bg-[#D9D9D9] flex items-center justify-center",3,"click",4,"ngIf"],["class","w-[30px] h-[30px] rounded-full flex items-center justify-center font-bold disabled:cursor-not-allowed disabled:opacity-50",3,"class","disabled","click",4,"ngFor","ngForOf"],[1,"w-[80px]","h-[30px]","rounded-full","bg-[#D9D9D9]","flex","items-center","justify-center","disabled:cursor-not-allowed","disabled:opacity-50",3,"click","disabled"],[1,"text-[#174A77]","font-bold"],[1,"w-[80px]","h-[30px]","rounded-full","bg-[#D9D9D9]","flex","items-center","justify-center",3,"click"],[1,"w-[30px]","h-[30px]","rounded-full","flex","items-center","justify-center","font-bold","disabled:cursor-not-allowed","disabled:opacity-50",3,"click","disabled"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"div",1),d(2),r(),f(3,ie,3,2,"div",2)(4,re,2,2,"div",2)(5,se,7,7,"div",3),r()),e&2&&(a(2),k("isLoading: ",o.isLoading(),""),a(),S(o.isLoading()?3:-1),a(),S(o.isLoading()?-1:4),a(),l("ngIf",o.blogsResponse&&o.blogsResponse.rows&&o.blogsResponse.rows.total>o.blogsResponse.rows.per_page))},dependencies:[U,V,$,G,z,H,q,X],styles:['*[_ngcontent-%COMP%]   White[_ngcontent-%COMP%]   Line[_ngcontent-%COMP%]   */[_ngcontent-%COMP%]   .white-line[_ngcontent-%COMP%]{width:5rem;height:5px;background-color:red;margin-bottom:1rem}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.read-more-button[_ngcontent-%COMP%]{width:13rem;height:3.5rem;background-color:#0c4a6e;border-top-left-radius:30px;border-top-right-radius:30px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background-color .3s ease}.read-more-button[_ngcontent-%COMP%]:hover{background-color:#075985}.button-text[_ngcontent-%COMP%]{color:#fff;font-size:1.125rem;font-weight:400;font-family:Alexandria,sans-serif;text-transform:capitalize;line-height:1.75}.line2[_ngcontent-%COMP%]{width:77px;height:4px;flex-shrink:0;background-color:#075985}.custom-partial-border[_ngcontent-%COMP%]{border-bottom:6px solid transparent;border-image:linear-gradient(to right,#f7f6f3 70%,transparent 60%) 1}@keyframes _ngcontent-%COMP%_opacityPulse{0%{opacity:.3}50%{opacity:.6}to{opacity:.3}}.blog-card-skeleton[_ngcontent-%COMP%]{transition:opacity .3s ease}.image-skeleton[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:linear-gradient(90deg,transparent,rgba(255,255,255,.5),transparent);animation:_ngcontent-%COMP%_shimmer 1.5s infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}@keyframes _ngcontent-%COMP%_opacityPulse{0%,to{opacity:.6}50%{opacity:1}}'],data:{animation:[P("skeletonAnimation",[C(":enter",[p({opacity:.7}),y("300ms ease-in",p({opacity:1}))]),C(":leave",[y("300ms ease-out",p({opacity:0}))])]),P("cardAnimation",[C(":enter",[p({opacity:0,transform:"scale(0.95)"}),y("500ms ease-out",p({opacity:1,transform:"scale(1)"}))])])]}})};export{Y as ArabicBlogsComponent};
