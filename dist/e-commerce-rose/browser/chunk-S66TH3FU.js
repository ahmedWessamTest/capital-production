import{$b as m,N as o,R as a,Zb as n,wc as c}from"./chunk-XFMLYWXN.js";var u=class s{_http=a(m);baseUrl=c.BASE_URL;getUserPolicies(e){if(!e)throw new Error("User ID is required");let r={type:"all"};return this._http.get(`${this.baseUrl}app-profile/userpolicy/${e}`,{params:r})}getPolicyWithComments(e,r){let t={type:r};if(!e)throw new Error("Policy ID is required");return this._http.get(`${this.baseUrl}app-policies/policy-single/${e}`,{params:t})}createMedicalPolicyComment(e,r){this.validateCommentPayload(r);let t=this.createFormData(r),i=new n("POST",`${this.baseUrl}app-policies/medical-comment/${e}`,t,{reportProgress:!0,responseType:"json"});return this._http.request(i)}createMotorPolicyComment(e,r){this.validateCommentPayload(r);let t=this.createFormData(r),i=new n("POST",`${this.baseUrl}app-policies/motor-comment/${e}`,t,{reportProgress:!0,responseType:"json"});return this._http.request(i)}createBuildingPolicyComment(e,r){this.validateCommentPayload(r);let t=this.createFormData(r),i=new n("POST",`${this.baseUrl}app-policies/building-comment/${e}`,t,{reportProgress:!0,responseType:"json"});return this._http.request(i)}createJopPolicyComment(e,r){this.validateCommentPayload(r);let t=this.createFormData(r),i=new n("POST",`${this.baseUrl}app-policies/jop-comment/${e}`,t,{reportProgress:!0,responseType:"json"});return this._http.request(i)}getPolicyChoices(e,r){if(!e)throw new Error("Policy ID is required");if(!r)throw new Error("Policy type is required");let t={type:r};return this._http.get(`${this.baseUrl}app-policies/policies-choices/${e}`,{params:t})}validateCommentPayload(e){if(!e.user_id)throw new Error("user_id is required");if(!e.user_role)throw new Error("user_role is required");if(!e.user_name)throw new Error("user_name is required");if(!e.comment)throw new Error("comment is required");if(!e.reciver_id)throw new Error("reciver_id is required");if(!e.reciver_role)throw new Error("reciver_role is required");if(!e.reciver_name)throw new Error("reciver_name is required");if(!e.request_id)throw new Error("request_id is required");if(!e.request_status)throw new Error("request_status is required")}createFormData(e){let r=new FormData;return r.append("user_id",e.user_id.toString()),r.append("user_role",e.user_role),r.append("user_name",e.user_name),r.append("comment",e.comment),r.append("reciver_id",e.reciver_id.toString()),r.append("reciver_role",e.reciver_role),r.append("reciver_name",e.reciver_name),r.append("request_id",e.request_id.toString()),r.append("request_status",e.request_status),e.comment_file&&r.append("comment_file",e.comment_file),r}static \u0275fac=function(r){return new(r||s)};static \u0275prov=o({token:s,factory:s.\u0275fac,providedIn:"root"})};export{u as a};
